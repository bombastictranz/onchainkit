"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7026],{46233:(e,t,n)=>{n.d(t,{z:()=>ew});var a=n(29563),r=n(92033),i=n(49206),s=n(80693),o=n(12115),l=n(65435),u=n(52838),d=n(24473);n(39899);var c=n(43816),p=n(13904),y=n(2554),m=n(35965),f=n(29453),v=n(90501),b=n(26344),h=n(47076),g=n(11920),x=n(65126),w=n(76294),T=n(57593),j=n(79707),S=n(78575),A=n(17237),N=n(59958),k=n(83610),C=n(49955),E=n(15865),M=n(62110),I=n(26151);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=(e,t,n)=>{let a=O((0,o.useState)(""),2),r=a[0],i=a[1],s=O((0,o.useState)(""),2),l=s[0],u=s[1],d=O((0,o.useState)(!1),2),c=d[0],p=d[1],y=(0,M.g)({address:n,fromToken:t,toToken:e}),m=y.fromBalanceString,f=y.fromTokenBalanceError,v=y.fromTokenResponse;return(0,j.h)({balance:m,balanceResponse:v,amount:r,setAmount:i,amountUSD:l,setAmountUSD:u,token:t,loading:c,setLoading:p,error:f})};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let U=(e,t,n)=>{let a=P(e,I.T9,n),r=P(e,I.N_,n),i=P(e,t,n),s=R((0,o.useState)(""),2),l=s[0],u=s[1],d=R((0,o.useState)(""),2),c=d[0],p=d[1],y=R((0,o.useState)(!1),2),m=y[0],f=y[1],v=e?.symbol==="ETH"?I.N_:I.T9,b=(0,M.g)({address:n,fromToken:v,toToken:e}),h=b.toBalanceString,g=b.toTokenBalanceError,x=b.toTokenResponse;return{fromETH:a,fromUSDC:r,from:i,to:(0,j.h)({balance:h,balanceResponse:x,amount:l,setAmount:u,amountUSD:c,setAmountUSD:p,token:e,loading:m,setLoading:f,error:g})}};var _=n(45647);let B=({updateLifecycleStatus:e,maxSlippage:t,lifecycleStatus:n})=>{let a=(0,o.useCallback)(a=>{"transition_view"===a.eventName&&n?.statusName!=="transactionPending"&&e({statusName:"transactionPending",statusData:{isMissingRequiredField:!1,maxSlippage:t}})},[t,e,n?.statusName]),r=(0,o.useCallback)(()=>{e({statusName:"success",statusData:{isMissingRequiredField:!1,transactionReceipt:{},maxSlippage:t}})},[t,e]),i=(0,o.useCallback)(()=>{e({statusName:"init",statusData:{isMissingRequiredField:!1,maxSlippage:t}})},[e,t]);return(0,o.useEffect)(()=>{let e=(0,_.q)({onEvent:a,onSuccess:r});return()=>{e()}},[a,r]),{onPopupClose:i}};var L=n(80387);let q=({fromETH:e,fromUSDC:t,from:n,to:a})=>(0,o.useCallback)(async()=>{await Promise.all([n?.balanceResponse?.refetch(),n?.setAmount(""),n?.setAmountUSD(""),e.balanceResponse?.refetch(),e.setAmount(""),e.setAmountUSD(""),t.balanceResponse?.refetch(),t.setAmount(""),t.setAmountUSD(""),a.balanceResponse?.refetch(),a.setAmount(""),a.setAmountUSD("")])},[n,e,t,a]);var W=n(83228),Q=n(19552);async function H({amount:e,from:t,maxSlippage:n,to:a,useAggregator:r,fromSwapUnit:i}){let s,o;if(!t)return{response:void 0,formattedFromAmount:"",error:void 0};a?.symbol!==t?.symbol&&(s=await (0,W.i)({amount:e,amountReference:"from",from:a,maxSlippage:n,to:t,useAggregator:r},c.bb.Buy));let l="";return s&&!(0,A._)(s)&&(l=s?.toAmount?(0,Q.N)(s.toAmount,s.to.decimals):"",i?.setAmountUSD(s?.toAmountUSD||""),i?.setAmount(l||"")),(0,A._)(s)&&(o=s,s=void 0),{response:s,formattedFromAmount:l,error:o}}var $=n(95155);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let Z={},z=(0,o.createContext)(Z);function K(){let e=(0,o.useContext)(z);if(e===Z)throw Error("useBuyContext must be used within a Buy component");return e}function X(e){let{children:t,config:n={maxSlippage:s.AF},disabled:a,experimental:r,isSponsored:i,onError:l,onStatus:u,onSuccess:d,toToken:M,fromToken:I}=e,O=(0,E.E)(),D=O.config,P=(void 0===D?{paymaster:void 0}:D).paymaster,R=O.projectId,F=(0,m.useAccount)(),_=F.address,W=F.chainId,Q=(0,f.useSwitchChain)().switchChainAsync,G=r.useAggregator,Z=(0,v.useConfig)(),K=V((0,o.useState)(!1),2),X=K[0],J=K[1],Y=(0,T.J)({chainId:y.E.id}),ee=V((0,p.U)({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}}),2),et=ee[0],en=ee[1],ea=V((0,o.useState)(""),2),er=ea[0],ei=ea[1],es=V((0,o.useState)(!1),2),eo=es[0],el=es[1],eu=U(M,I,_),ed=eu.from,ec=eu.fromETH,ep=eu.fromUSDC,ey=eu.to,em=(0,b.useSendTransaction)().sendTransactionAsync,ef=(0,h.x)().sendCallsAsync,ev=q({fromETH:ec,fromUSDC:ep,from:ed,to:ey}),eb=(0,S.b)({accountConfig:Z,lifecycleStatus:et,updateLifecycleStatus:en}),eh=B({updateLifecycleStatus:en,maxSlippage:n.maxSlippage,lifecycleStatus:et}).onPopupClose,eg=(0,L.G)(eh).startPopupMonitor,ex=(0,x.s)().sendAnalytics;(0,o.useEffect)(()=>{if("error"===et.statusName&&(null==l||l(et.statusData)),"success"===et.statusName){var e,t,n;null==d||d(null==et?void 0:et.statusData.transactionReceipt);let a=null===(e=et.statusData.transactionReceipt)||void 0===e?void 0:e.transactionHash;ei(a),el(!0),ex(w.f5.BuySuccess,{address:_,amount:Number(null==ed?void 0:ed.amount),from:null==ed?void 0:null===(t=ed.token)||void 0===t?void 0:t.address,paymaster:!!P,to:null==ey?void 0:null===(n=ey.token)||void 0===n?void 0:n.address,transactionHash:a})}null==u||u(et)},[l,u,d,et,et.statusData,et.statusName,ed,ey,_,P,ex]),(0,o.useEffect)(()=>{},[R]),(0,o.useEffect)(()=>{"init"===et.statusName&&eo&&(el(!1),ev())},[eo,et.statusName,ev]),(0,o.useEffect)(()=>{"transactionApproved"===et.statusName&&"Batched"===et.statusData.transactionType&&eb()},[eb,et,et.statusData,et.statusName]),(0,o.useEffect)(()=>{let e;return"success"===et.statusName&&eo&&(e=setTimeout(()=>{en({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}})},3e3)),()=>{if(e)return clearTimeout(e)}},[n.maxSlippage,eo,et.statusName,en]);let ew=(0,o.useCallback)(async e=>{if(void 0===ey.token||void 0===ec.token||void 0===ep.token){en({statusName:"amountChange",statusData:{amountETH:ec.amount,amountUSDC:ep.amount,amountTo:ey.amount,tokenTo:ey.token,isMissingRequiredField:!0}});return}if(""===e||"."===e||0===Number.parseFloat(e)){ey.setAmount(""),ey.setAmountUSD(""),ec.setAmountUSD(""),ep.setAmountUSD(""),null==ed||ed.setAmountUSD("");return}ec.setLoading(!0),ep.setLoading(!0),null==ed||ed.setLoading(!0),en({statusName:"amountChange",statusData:{amountTo:e,amountETH:"",amountUSDC:"",amountFrom:"",tokenFromETH:ec.token,tokenFromUSDC:ep.token,tokenFrom:null==ed?void 0:ed.token,tokenTo:ey.token,isMissingRequiredField:!0}});try{let t=et.statusData.maxSlippage,n=await H({amount:e,from:ec.token,maxSlippage:String(t),to:ey.token,useAggregator:G,fromSwapUnit:ec}),a=n.response,r=n.formattedFromAmount,i=await H({amount:e,from:ep.token,maxSlippage:String(t),to:ey.token,useAggregator:G,fromSwapUnit:ep}),s=i.response,o=i.formattedFromAmount,l=await H({amount:e,from:null==ed?void 0:ed.token,maxSlippage:String(t),to:ey.token,useAggregator:G,fromSwapUnit:ed}),u=l.response,d=l.formattedFromAmount;if(!function({to:e,responseETH:t,responseUSDC:n,responseFrom:a,updateLifecycleStatus:r}){if(!(0,A._)(t)&&t?.toAmountUSD)e.setAmountUSD(t?.toAmountUSD);else if(!(0,A._)(n)&&n?.toAmountUSD)e.setAmountUSD(n.toAmountUSD);else{if(!(!(0,A._)(a)&&a?.toAmountUSD))return r({statusName:"error",statusData:{code:"TmBPc01",error:"No valid quote found",message:""}}),{isValid:!1};e.setAmountUSD(a.toAmountUSD)}return{isValid:!0}}({to:ey,responseETH:a,responseUSDC:s,responseFrom:u,updateLifecycleStatus:en}).isValid)return;en({statusName:"amountChange",statusData:{amountETH:r,amountUSDC:o,amountFrom:d||"",amountTo:e,tokenFromETH:ec.token,tokenFromUSDC:ep.token,tokenFrom:null==ed?void 0:ed.token,tokenTo:ey.token,isMissingRequiredField:!r}})}catch(t){ex(w.f5.BuyFailure,{error:t instanceof Error?t.message:String(t),metadata:{amount:e}}),en({statusName:"error",statusData:{code:"TmBPc02",error:JSON.stringify(t),message:""}})}finally{ec.setLoading(!1),ep.setLoading(!1),null==ed||ed.setLoading(!1)}},[ey,ed,ec,ep,G,en,et.statusData.maxSlippage,ex]),eT=(0,o.useCallback)(async e=>{if(_&&e.token&&ey.token&&e.amount)try{ex(w.f5.BuyInitiated,{amount:Number(e.amount),token:e.token.symbol});let t=et.statusData.maxSlippage,n=await (0,g.W)({amount:e.amount,fromAddress:_,from:e.token,maxSlippage:String(t),to:ey.token,useAggregator:G},c.bb.Buy);if((0,A._)(n)){en({statusName:"error",statusData:{code:n.code,error:n.error,message:n.message}});return}await (0,N.L)({chainId:W,config:Z,isSponsored:i,paymaster:P||"",sendCallsAsync:ef,sendTransactionAsync:em,swapTransaction:n,switchChainAsync:Q,updateLifecycleStatus:en,useAggregator:G,walletCapabilities:Y})}catch(n){ex(w.f5.BuyFailure,{error:n instanceof Error?n.message:String(n),metadata:{token:e.token.symbol,amount:e.amount}});let t=(0,C.H)(n)?"Request denied.":k.h1;en({statusName:"error",statusData:{code:"TmBPc03",error:JSON.stringify(n),message:t}})}},[Z,_,W,i,et,P,ef,em,Q,ey.token,en,G,Y,ex]),ej=(0,j.h)({address:_,config:n,disabled:a,from:ed,fromETH:ec,fromUSDC:ep,handleAmountChange:ew,handleSubmit:eT,lifecycleStatus:et,updateLifecycleStatus:en,to:ey,setTransactionHash:ei,transactionHash:er,isDropdownOpen:X,setIsDropdownOpen:J,toToken:M,fromToken:I,startPopupMonitor:eg});return(0,$.jsx)(z.Provider,{value:ej,children:t})}var J=n(63218);function Y(){let e=K(),t=e.to,n=e.handleAmountChange;return(null==t?void 0:t.token)?(0,$.jsxs)("div",{className:(0,i.cn)("flex h-12 items-center border px-2 pl-4",i.Tp.default,i.PQ.radius,i.PQ.lineDefault),children:[(0,$.jsx)(l.k,{className:(0,i.cn)("mr-2 w-full border-none font-display","leading-none outline-none disabled:cursor-not-allowed",i.Tp.default,i.yW.foreground),placeholder:"0.0",delayMs:1e3,inputMode:"decimal",value:(0,d.e)(t.amount),setValue:t.setAmount,disabled:t.loading,onChange:n,inputValidator:u.d}),(0,$.jsx)(J.M,{className:(0,i.cn)(i.yW.foreground,"rounded-md"),token:t.token,isPressable:!1})]}):null}var ee=n(12364);let et=(0,$.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"ock-checkmarkSvg",children:[(0,$.jsx)("title",{children:"Checkmark SVG"}),(0,$.jsx)("path",{d:"M12.5 0C5.87 0 0.5 5.37 0.5 12C0.5 18.63 5.87 24 12.5 24C19.13 24 24.5 18.63 24.5 12C24.5 5.37 19.13 0 12.5 0ZM10.59 17.3L6.1 12.81L7.51 11.4L10.59 14.48L17.66 7.41L19.07 8.82L10.59 17.3Z",fill:"#F9FAFB"})]});var en=n(62391);n(36277);var ea=n(1630);function er(){let e=K(),t=e.address,n=e.disabled,a=e.setIsDropdownOpen,r=e.isDropdownOpen,s=e.from,l=e.fromETH,u=e.fromUSDC,d=e.to,c=e.lifecycleStatus.statusName,p=e.updateLifecycleStatus,y=(null==d?void 0:d.loading)||(null==s?void 0:s.loading)||(null==l?void 0:l.loading)||(null==u?void 0:u.loading)||"transactionPending"===c||"transactionApproved"===c,m=!(null==d?void 0:d.amount)||!(null==d?void 0:d.token),f=y||n,v=(0,o.useCallback)(()=>{if(m){p({statusName:"error",statusData:{code:"TmBPc05",error:"Missing required fields",message:"Complete the field to continue"}});return}if(r){a(!1);return}r||a(!0)},[m,a,r,p]),b=(0,o.useMemo)(()=>"success"===c?et:r?(0,$.jsx)(en.X,{className:i.Kk.inverse}):"Buy",[c,r]);return f||t?(0,$.jsx)("button",{type:"button",className:(0,i.cn)(i.Tp.primary,i.PQ.radius,"flex rounded-xl","h-12 w-24 items-center justify-center px-4 py-3",f&&i.wD.disabled,i.Qq.headline),onClick:v,"data-testid":"ockBuyButton_Button",disabled:f,children:y?(0,$.jsx)(ee.y,{}):(0,$.jsx)("span",{className:(0,i.cn)(i.Qq.headline,i.yW.inverse),children:b})}):(0,$.jsx)(ea.U,{text:"Buy",className:"h-12 w-24 min-w-24"})}var ei=n(65798),es=n(4089),eo=n(70402),el=n(96925);let eu=[{id:"CRYPTO_ACCOUNT",name:"Coinbase",description:"Buy with your Coinbase account",icon:"coinbasePay"},{id:"APPLE_PAY",name:"Apple Pay",description:"Up to $500/week",icon:"applePay"},{id:"CARD",name:"Debit Card",description:"Up to $500/week",icon:"creditCard"}];var ed=n(6217),ec=n(85499);let ep=(0,$.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","data-testid":"cardSvg",children:[(0,$.jsx)("title",{children:"Debit Card Onramp"}),(0,$.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),(0,$.jsx)("path",{d:"M7 15h0M2 9.5h20"})]});var ey=n(17452);let em={applePay:ec.T,coinbasePay:ey.C,creditCard:ep};function ef(e){let{name:t,description:n,onClick:a,icon:r,to:s}=e,l=K().setIsDropdownOpen,u=(0,o.useCallback)(()=>{l(!1),a()},[a,l]),d=(0,o.useMemo)(()=>{var e,t;return(null==s?void 0:null===(t=s.token)||void 0===t?void 0:null===(e=t.address)||void 0===e?void 0:e.toLowerCase())===(null===I.N_||void 0===I.N_?void 0:I.N_.address.toLowerCase())?null==s?void 0:s.amount:null==s?void 0:s.amountUSD},[s]),c=!d||5>Number.parseFloat(d)&&"Coinbase"!==t,p=(0,o.useMemo)(()=>c?"Minimum purchase amount is $5":n,[c,n]);return(0,$.jsxs)("button",{className:(0,i.cn)("flex items-center gap-2 rounded-lg p-2",i.Qq.label2,!c&&i.wD.default,c&&i.yW.foregroundMuted),onClick:u,type:"button","data-testid":"ock-".concat(r,"OnrampItem"),disabled:c,children:[(0,$.jsx)("div",{className:"flex h-9 w-9 items-center justify-center",children:em[r]}),(0,$.jsxs)("div",{className:"flex flex-col items-start",children:[(0,$.jsx)("div",{className:"relative flex items-center gap-1",children:(0,$.jsx)("div",{children:t})}),(0,$.jsx)("div",{className:(0,i.cn)("text-xs",i.yW.foregroundMuted),children:p})]})]})}var ev=n(99386);function eb(e){let{swapUnit:t}=e,n=K(),a=n.handleSubmit,r=n.setIsDropdownOpen;if(!t||!t.token)return null;let s=(0,o.useCallback)(()=>{r(!1),a(t)},[a,t,r]),l=!t.balance||Number.parseFloat(t.balance)<Number.parseFloat(t.amount),u=(0,o.useMemo)(()=>t.amount?(0,el.g)(t.amount,10):"",[t.amount]),d=(0,o.useMemo)(()=>(0,el.g)(t.balance||"0",3),[t.balance]);return(0,$.jsxs)("button",{className:(0,i.cn)("flex items-center gap-2 rounded-lg p-2",!l&&i.wD.default,i.Qq.label2),onClick:s,type:"button",disabled:l,children:[(0,$.jsx)(ev.H,{token:t.token,size:36}),(0,$.jsxs)("div",{className:(0,i.cn)("flex flex-col items-start",l?i.yW.foregroundMuted:i.yW.foreground),children:[(0,$.jsxs)("div",{children:[u," ",t.token.name]}),(0,$.jsx)("div",{className:(0,i.cn)("text-xs",l?i.yW.error:i.yW.foregroundMuted),children:"".concat(l?"Insufficient balance":"Balance",": ").concat(d)})]})]})}function eh(){var e,t,n,a,r,s,l;let u=(0,E.E)().projectId,d=K(),c=d.to,p=d.fromETH,y=d.fromUSDC,f=d.from,v=d.startPopupMonitor,b=d.setIsDropdownOpen,h=(0,m.useAccount)().address,g=(0,x.s)().sendAnalytics,T=(0,o.useCallback)(e=>()=>{var t;g(w.f5.BuyOptionSelected,{option:e});let n=null==c?void 0:null===(t=c.token)||void 0===t?void 0:t.symbol,a=null==c?void 0:c.amount;(null==a?void 0:a[0])==="."&&(a="0".concat(a));let r="".concat(es.PX,"/one-click?appId=").concat(u,'&addresses={"').concat(h,'":["base"]}&assets=["').concat(n,'"]&presetCryptoAmount=').concat(a,"&defaultPaymentMethod=").concat(e),i=(0,eo.N)("md",r),s=i.height,o=i.width,l=(0,ei.P)({url:r,height:s,width:o,target:"_blank"});l&&v(l)},[h,c,u,v,g]),j=(0,o.useMemo)(()=>{if(!(null==c?void 0:c.amountUSD)||(null==c?void 0:c.amountUSD)==="0")return null;let e=Number((0,el.g)(null==c?void 0:c.amountUSD,2));return"$".concat(e.toFixed(2))},[null==c?void 0:c.amountUSD]),S=(null==c?void 0:null===(e=c.token)||void 0===e?void 0:e.symbol)==="ETH",A=(null==c?void 0:null===(t=c.token)||void 0===t?void 0:t.symbol)==="USDC",N=(null==c?void 0:null===(n=c.token)||void 0===n?void 0:n.symbol)!==(null==f?void 0:null===(a=f.token)||void 0===a?void 0:a.symbol)&&f&&(null==f?void 0:null===(r=f.token)||void 0===r?void 0:r.symbol)!=="ETH"&&(null==f?void 0:null===(s=f.token)||void 0===s?void 0:s.symbol)!=="USDC";(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&b(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b]);let k=(0,ed.d)();return(0,$.jsxs)("div",{className:(0,i.cn)(i.yW.foreground,i.Tp.default,"absolute right-0 bottom-0 flex translate-y-[102%] flex-col gap-2","z-10 min-w-80 rounded border p-2",i.PQ.radius),children:[(0,$.jsx)("div",{className:(0,i.cn)(i.Qq.headline,"px-2 pt-2"),children:"Buy with"}),!S&&(0,$.jsx)(eb,{swapUnit:p}),!A&&(0,$.jsx)(eb,{swapUnit:y}),N&&(0,$.jsx)(eb,{swapUnit:f}),eu.map(e=>"APPLE_PAY"!==e.id||k?(0,$.jsx)(ef,{name:e.name,description:e.description,onClick:T(e.id),icon:e.icon,to:c},e.id):null),!!j&&(0,$.jsx)("div",{className:(0,i.cn)("flex justify-end",i.Qq.legal,i.yW.foregroundMuted),children:"".concat(null==c?void 0:c.amount," ").concat(null==c?void 0:null===(l=c.token)||void 0===l?void 0:l.name," ≈ ").concat(j)})]})}function eg(){let e=K().lifecycleStatus;if((0,A._)(e.statusData)){var t;let n=e.statusData.message||"Something went wrong. Please try again.",a=(null==e?void 0:null===(t=e.statusData)||void 0===t?void 0:t.code)==="TmBPc05"?i.yW.foregroundMuted:i.yW.error;return(0,$.jsx)("div",{className:(0,i.cn)(a,i.Qq.label2),children:n})}return null}function ex(e){let{className:t}=e,n=(0,r.D)(),s=K(),l=s.isDropdownOpen,u=s.setIsDropdownOpen,d=(0,o.useRef)(null);return(0,a.j)(d,()=>{l&&u(!1)}),(0,$.jsxs)("div",{ref:d,className:(0,i.cn)("relative flex flex-col gap-2",n,t),children:[(0,$.jsxs)("div",{className:(0,i.cn)("flex items-center gap-4"),children:[(0,$.jsx)(Y,{}),(0,$.jsx)(er,{}),l&&(0,$.jsx)(eh,{})]}),(0,$.jsx)(eg,{})]})}function ew(e){let{config:t={maxSlippage:s.AF},className:n,disabled:a=!1,experimental:r={useAggregator:!1},isSponsored:i=!1,onError:o,onStatus:l,onSuccess:u,toToken:d,fromToken:c}=e;return(0,$.jsx)(X,{config:t,disabled:a,experimental:r,isSponsored:i,onError:o,onStatus:l,onSuccess:u,toToken:d,fromToken:c,children:(0,$.jsx)(ex,{className:n})})}},84470:(e,t,n)=>{n.d(t,{RW:()=>q,LZ:()=>H});var a=n(93666),r=n(92033),i=n(49206),s=n(13904),o=n(85837),l=n(65798),u=n(12115),d=n(2554),c=n(35965),p=n(34902),y=n(29453),m=n(49123),f=n(94430),v=n(81630),b=n(85136),h=n(65126),g=n(76294),x=n(79707),w=n(49955),T=n(15865),j=n(80718),S=n(97458),A=n(89888),N=n(90501),k=n(38472),C=n(47998);let E=async({address:e,config:t})=>{let n=await (0,C.J)(t,{abi:k.xw,address:S.XP,functionName:S.GL.BALANCE_OF,args:[e]});return(0,A.J)(n,6)};n(69984);var M=n(43816),I=n(77407);let O=async({address:e,chargeHandler:t,productId:n})=>{let a={address:e};t?a.chargeId=await t():n&&(a.productId=n);let r=await (0,I.n)(a,M.bb.Checkout);if("error"in r)throw Error(r.error);return r};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=({chargeHandler:e,productId:t})=>{let n=(0,N.useConfig)();return(0,u.useCallback)(async a=>{try{let r=await Promise.all([O({address:a,chargeHandler:e,productId:t}),E({address:a,config:n})]),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return D(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,0),s=i[0],o=i[1],l=s.id,u=function({transaction:e}){let t=e.callData,n=e.metaData;return[{address:t.recipientCurrency,abi:k.xw,functionName:S.GL.APPROVE,args:[n.contractAddress,BigInt(t.recipientAmount)+BigInt(t.feeAmount)]},{address:n.contractAddress,abi:S.rW,functionName:S.GL.TRANSFER_TOKEN_PRE_APPROVED,args:[{id:t.id,recipientAmount:BigInt(t.recipientAmount),deadline:BigInt(Math.floor(new Date(t.deadline).getTime()/1e3)),recipient:t.recipient,recipientCurrency:t.recipientCurrency,refundDestination:t.refundDestination,feeAmount:BigInt(t.feeAmount),operator:t.operator,signature:t.signature,prefix:t.prefix}]}]}({transaction:s}),d=(0,A.J)(BigInt(s.callData.feeAmount)+BigInt(s.callData.recipientAmount),6),c=Number.parseFloat(o)<Number.parseFloat(d);return{chargeId:l,contracts:u,insufficientBalance:c,priceInUSDC:d}}catch(e){return console.error("Unexpected error fetching contracts:",e),{chargeId:"",contracts:null,insufficientBalance:!1,error:e}}},[n,e,t])};var R=n(95155);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let _={},B=(0,u.createContext)(_);function L({chargeHandler:e,children:t,isSponsored:n,onStatus:a,productId:r}){let i=(0,T.E)().config,A=void 0===i?{appearance:{name:void 0,logo:void 0},paymaster:void 0}:i,N=A.appearance,k=A.paymaster,C=(0,c.useAccount)(),E=C.address,M=C.chainId,I=C.isConnected,O=(0,p.useConnect)().connectAsync,D=(0,y.useSwitchChain)().switchChainAsync,U=F((0,u.useState)(""),2),_=U[0],L=U[1],q=F((0,u.useState)(""),2),W=q[0],Q=q[1],H=F((0,u.useState)(""),2),$=H[0],V=H[1],G=(0,j.I)(),Z=(0,h.s)().sendAnalytics,z=(0,u.useRef)(!1),K=(0,u.useRef)(!1),X=(0,u.useRef)(!1),J=(0,u.useRef)(),Y=(0,u.useRef)(!1),ee=(0,u.useRef)(""),et=(0,u.useCallback)(async e=>{er({statusName:S.iO.FETCHING_DATA,statusData:{}});let t=await ei(e),n=t.contracts,a=t.chargeId,r=t.insufficientBalance,i=t.priceInUSDC,s=t.error;if(s){V(S.h1),er({statusName:S.iO.ERROR,statusData:{code:S.mu.UNEXPECTED_ERROR,error:s.name,message:s.message}});return}L(a),J.current=n,Y.current=r,ee.current=i,er({statusName:S.iO.READY,statusData:{chargeId:_,contracts:J.current||[]}})},[_]),en=F((0,s.U)({statusName:S.iO.INIT,statusData:{}}),2),ea=en[0],er=en[1],ei=P({chargeHandler:e,productId:r}),es=(0,v.o)({mutation:{onSuccess:e=>{Q(e)}}}),eo=es.status,el=es.writeContractsAsync,eu=(0,b.d)({id:W,query:{refetchInterval:e=>e.state.data?.status!=="CONFIRMED"&&1e3,enabled:!!W}}).data,ed=eu?.receipts?.[0]?.transactionHash,ec=(0,m.useWaitForTransactionReceipt)({hash:ed}).data;(0,u.useEffect)(()=>{a?.(ea)},[ea,ea.statusData,ea.statusName,a]),(0,u.useEffect)(()=>{"pending"===eo&&er({statusName:S.iO.PENDING,statusData:{}})},[eo,er]),(0,u.useEffect)(()=>{ec&&er({statusName:S.iO.SUCCESS,statusData:{transactionReceipts:[ec],chargeId:_,receiptUrl:`https://commerce.coinbase.com/pay/${_}/receipt`}})},[_,ec,er]),(0,u.useEffect)(()=>{ea.statusName===S.iO.INIT&&E&&!K.current&&(z.current=!0,et(E))},[E,et,ea]);let ep=(0,u.useCallback)((e,t)=>{Z(e,t)},[Z]),ey=(0,u.useCallback)(async()=>{try{if(ep(g.XS.CheckoutInitiated,{address:E,amount:Number(ee.current),productId:r||""}),ea.statusName===S.iO.SUCCESS){window.open(`https://commerce.coinbase.com/pay/${_}/receipt`,"_blank","noopener,noreferrer");return}$===S.ox&&V("");let e=E,t=M;if(!I||!G){K.current=!0;let n=await O({connector:(0,f.m)({appName:N?.name??void 0,appLogoUrl:N?.logo??void 0,preference:"smartWalletOnly"})}),a=n.accounts,r=n.chainId;e=a[0],t=r}if(!e){V(S.h1),er({statusName:S.iO.ERROR,statusData:{code:S.mu.UNEXPECTED_ERROR,error:S.uU,message:S.uU}});return}if(z.current||X.current||await et(e),t!==d.E.id&&await D({chainId:d.E.id}),Y.current&&ee.current){let e=(0,o.Y)("md"),t=e.height,n=e.width;(0,l.P)({url:`https://keys.coinbase.com/fund?asset=USDC&chainId=8453&presetCryptoAmount=${ee.current}`,target:"_blank",height:t,width:n}),Y.current=!1,ee.current=void 0,z.current=!1;return}if(!J.current||0===J.current.length){V(S.h1),er({statusName:S.iO.ERROR,statusData:{code:S.mu.UNEXPECTED_ERROR,error:S.ze,message:S.ze}});return}await el({contracts:J.current,capabilities:n?{paymasterService:{url:k}}:void 0})}catch(a){ep(g.XS.CheckoutFailure,{error:a instanceof Error?a.message:"Checkout failed",metadata:{error:JSON.stringify(a)}});let e=a.message?.includes("User denied connection request")||(0,w.H)(a),t=e?S.mu.USER_REJECTED_ERROR:S.mu.UNEXPECTED_ERROR,n=e?S.ox:S.h1;e&&(X.current=!0),V(n),er({statusName:S.iO.ERROR,statusData:{code:t,error:JSON.stringify(a),message:n}})}},[E,N,M,_,O,$,et,I,G,n,ea.statusName,k,D,er,el,ep,r]),em=(0,x.h)({errorMessage:$,lifecycleStatus:ea,onSubmit:ey,updateLifecycleStatus:er});return(0,R.jsx)(B.Provider,{value:em,children:t})}function q(e){let{chargeHandler:t,children:n,className:s,isSponsored:o,onStatus:l,productId:u}=e,d=(0,a.a)(),c=(0,r.D)();return d?(0,R.jsx)(L,{chargeHandler:t,isSponsored:o,onStatus:l,productId:u,children:(0,R.jsx)("div",{className:(0,i.cn)(c,"flex w-full flex-col gap-2",s),children:n})}):null}var W=n(12364),Q=n(77899);function H(e){let{className:t,coinbaseBranded:n,disabled:a,icon:r,text:s="Pay"}=e;n&&(r="coinbasePay",s="Pay");let o=function(){let e=(0,u.useContext)(B);if(e===_)throw Error("useCheckoutContext must be used within a Checkout component");return e}(),l=o.lifecycleStatus,d=o.onSubmit,c=(0,Q.b)({icon:r}),p=(0,h.s)().sendAnalytics,y=(null==l?void 0:l.statusName)===S.iO.PENDING,m=(null==l?void 0:l.statusName)===S.iO.FETCHING_DATA,f=a||y||m,v=(0,u.useMemo)(()=>(null==l?void 0:l.statusName)===S.iO.SUCCESS?"View payment details":s,[null==l?void 0:l.statusName,s]),b=v===s&&c;return(0,u.useEffect)(()=>{if((null==l?void 0:l.statusName)===S.iO.SUCCESS&&l.statusData){var e;let t=l.statusData,n=t.transactionReceipts,a=t.chargeId,r=null==n?void 0:null===(e=n[0])||void 0===e?void 0:e.transactionHash;r&&a&&p(g.XS.CheckoutSuccess,{chargeHandlerId:a,transactionHash:r})}},[l,p]),(0,R.jsx)("button",{className:(0,i.cn)(n?i.wD.coinbaseBranding:i.wD.primary,i.PQ.radius,f&&i.wD.disabled,i.Qq.headline,"mt-4 w-full px-4 py-3",t),onClick:d,type:"button",disabled:f,children:(0,R.jsx)("div",{className:"flex items-center justify-center whitespace-nowrap",children:y?(0,R.jsx)(W.y,{className:"h-5 w-5"}):(0,R.jsxs)(R.Fragment,{children:[b&&(0,R.jsx)("div",{className:"mr-2 flex h-5 w-5 shrink-0 items-center justify-center",children:c}),(0,R.jsx)("span",{className:(0,i.cn)(i.Qq.headline,n?"text-gray-50":i.yW.inverse),children:v})]})})})}},70687:(e,t,n)=>{n.d(t,{X2:()=>eA});var a=n(79707),r=n(49206),i=n(12115),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l=(0,i.createContext)(void 0);function u(e){var t;let{children:n,defaultValue:r}=e,u=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(r))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],c=u[1],p=(0,a.h)({selectedTab:d,setSelectedTab:c});return(0,s.jsx)(l.Provider,{value:p,children:n})}function d(){let e=(0,i.useContext)(l);if(!e)throw Error("useTabsContext must be used within an TabsProvider");return e}function c(e){let{children:t,defaultValue:n,className:a}=e;return(0,s.jsx)(u,{defaultValue:n,children:(0,s.jsx)("div",{"data-testid":"ockTabs",className:(0,r.cn)("flex flex-col",a),children:t})})}function p({value:e,children:t,className:n,"aria-label":a,onClick:o}){let l=d(),u=l.selectedTab,c=l.setSelectedTab,p=u===e,y=(0,i.useCallback)(()=>{c(e),o?.()},[e,c,o]);return(0,s.jsx)("button",{className:(0,r.cn)(r.Qq.headline,p?r.yW.inverse:r.yW.foreground,p?r.Tp.primary:r.Tp.default,"w-1/2 text-center","cursor-pointer px-3 py-2","focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ock-text-foreground)] focus-visible:ring-inset",n),onClick:y,"aria-label":a,"aria-selected":p,"aria-controls":`${e}-panel`,role:"tab",type:"button",tabIndex:p?0:-1,children:t})}function y({className:e,children:t}){let n=d().setSelectedTab,a=(0,i.useCallback)(e=>{let t;let a=e.target,r=Array.from(a.parentElement?.querySelectorAll('[role="tab"]')||[]),i=r.indexOf(a);if(-1===i)return;switch(e.key){case"ArrowRight":t=(i+1)%r.length;break;case"ArrowLeft":t=(i-1+r.length)%r.length;break;default:return}let s=r[t];s.focus();let o=s.getAttribute("aria-controls")?.replace("-panel","");o&&n(o),e.preventDefault()},[n]);return(0,s.jsx)("div",{className:(0,r.cn)("flex overflow-hidden",e),role:"tablist","aria-orientation":"horizontal",onKeyDown:a,children:t})}function m({children:e,value:t,className:n}){return d().selectedTab!==t?null:(0,s.jsx)("div",{className:n,role:"tabpanel","aria-labelledby":`${t}-panel`,children:e})}var f=n(92033);let v=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"morpho",type:"address"},{internalType:"uint256",name:"initialTimelock",type:"uint256"},{internalType:"address",name:"_asset",type:"address"},{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AboveMaxTimelock",type:"error"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"AddressInsufficientBalance",type:"error"},{inputs:[],name:"AllCapsReached",type:"error"},{inputs:[],name:"AlreadyPending",type:"error"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"BelowMinTimelock",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"DuplicateMarket",type:"error"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"}],name:"ERC2612ExpiredSignature",type:"error"},{inputs:[{internalType:"address",name:"signer",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC2612InvalidSigner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxDeposit",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxMint",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxRedeem",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"ERC4626ExceededMaxWithdraw",type:"error"},{inputs:[],name:"FailedInnerCall",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InconsistentAsset",type:"error"},{inputs:[],name:"InconsistentReallocation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"currentNonce",type:"uint256"}],name:"InvalidAccountNonce",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalNonZeroCap",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalNonZeroSupply",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"InvalidMarketRemovalTimelockNotElapsed",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[],name:"MarketNotCreated",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"MarketNotEnabled",type:"error"},{inputs:[],name:"MathOverflowedMulDiv",type:"error"},{inputs:[],name:"MaxFeeExceeded",type:"error"},{inputs:[],name:"MaxQueueLengthExceeded",type:"error"},{inputs:[],name:"NoPendingValue",type:"error"},{inputs:[],name:"NonZeroCap",type:"error"},{inputs:[],name:"NotAllocatorRole",type:"error"},{inputs:[],name:"NotCuratorNorGuardianRole",type:"error"},{inputs:[],name:"NotCuratorRole",type:"error"},{inputs:[],name:"NotEnoughLiquidity",type:"error"},{inputs:[],name:"NotGuardianRole",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"PendingCap",type:"error"},{inputs:[],name:"PendingRemoval",type:"error"},{inputs:[{internalType:"uint8",name:"bits",type:"uint8"},{internalType:"uint256",name:"value",type:"uint256"}],name:"SafeCastOverflowedUintDowncast",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"SupplyCapExceeded",type:"error"},{inputs:[],name:"TimelockNotElapsed",type:"error"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"UnauthorizedMarket",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroFeeRecipient",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTotalAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeShares",type:"uint256"}],name:"AccrueInterest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"suppliedAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"suppliedShares",type:"uint256"}],name:"ReallocateSupply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"withdrawnAssets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawnShares",type:"uint256"}],name:"ReallocateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"RevokePendingCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"}],name:"RevokePendingGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"RevokePendingMarketRemoval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"}],name:"RevokePendingTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"SetCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newCurator",type:"address"}],name:"SetCurator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"SetFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newFeeRecipient",type:"address"}],name:"SetFeeRecipient",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"SetGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"allocator",type:"address"},{indexed:!1,internalType:"bool",name:"isAllocator",type:"bool"}],name:"SetIsAllocator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newSkimRecipient",type:"address"}],name:"SetSkimRecipient",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"Id[]",name:"newSupplyQueue",type:"bytes32[]"}],name:"SetSupplyQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"SetTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"Id[]",name:"newWithdrawQueue",type:"bytes32[]"}],name:"SetWithdrawQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Skim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"SubmitCap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newGuardian",type:"address"}],name:"SubmitGuardian",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"Id",name:"id",type:"bytes32"}],name:"SubmitMarketRemoval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"SubmitTimelock",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"updatedTotalAssets",type:"uint256"}],name:"UpdateLastTotalAssets",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"DECIMALS_OFFSET",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MORPHO",outputs:[{internalType:"contract IMorpho",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"}],name:"acceptCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"Id",name:"",type:"bytes32"}],name:"config",outputs:[{internalType:"uint184",name:"cap",type:"uint184"},{internalType:"bool",name:"enabled",type:"bool"},{internalType:"uint64",name:"removableAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"curator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"deposit",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAllocator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastTotalAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"Id",name:"",type:"bytes32"}],name:"pendingCap",outputs:[{internalType:"uint192",name:"value",type:"uint192"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingGuardian",outputs:[{internalType:"address",name:"value",type:"address"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingTimelock",outputs:[{internalType:"uint192",name:"value",type:"uint192"},{internalType:"uint64",name:"validAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"},{internalType:"uint256",name:"assets",type:"uint256"}],internalType:"struct MarketAllocation[]",name:"allocations",type:"tuple[]"}],name:"reallocate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"revokePendingCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revokePendingGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id",name:"id",type:"bytes32"}],name:"revokePendingMarketRemoval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revokePendingTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newCurator",type:"address"}],name:"setCurator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newFeeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAllocator",type:"address"},{internalType:"bool",name:"newIsAllocator",type:"bool"}],name:"setIsAllocator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newSkimRecipient",type:"address"}],name:"setSkimRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"Id[]",name:"newSupplyQueue",type:"bytes32[]"}],name:"setSupplyQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"skimRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"},{internalType:"uint256",name:"newSupplyCap",type:"uint256"}],name:"submitCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newGuardian",type:"address"}],name:"submitGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"loanToken",type:"address"},{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"oracle",type:"address"},{internalType:"address",name:"irm",type:"address"},{internalType:"uint256",name:"lltv",type:"uint256"}],internalType:"struct MarketParams",name:"marketParams",type:"tuple"}],name:"submitMarketRemoval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newTimelock",type:"uint256"}],name:"submitTimelock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"supplyQueue",outputs:[{internalType:"Id",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"supplyQueueLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"timelock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAssets",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"indexes",type:"uint256[]"}],name:"updateWithdrawQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawQueue",outputs:[{internalType:"Id",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawQueueLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var b=n(2554);let h=`query($address: String!) {
    vaultByAddress(address: $address, chainId: ${b.E.id} ) {
        address
        symbol
        name
        creationBlockNumber
        creationTimestamp
        creatorAddress
        whitelisted
        asset {
          id
          address
          decimals
          symbol
        }
        chain {
          id
          network
        }
        liquidity {
          underlying
        }
        state {
          id
          apy
          netApy
          netApyWithoutRewards
          totalAssets
          totalAssetsUsd
          fee
          timelock
          rewards {
            amountPerSuppliedToken
            supplyApr
            yearlySupplyTokens
            asset {
              address
              name
              decimals
            }
        }
      }
    }
  }`;async function g(e){let t=await fetch("https://blue-api.morpho.org/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:h,variables:{address:e}})}),n=await t.json(),a=n.data,r=n.errors;if(r?.some(e=>"BAD_USER_INPUT"===e.status))throw Error("Vault not found. Ensure the address is a valid Morpho vault on Base.");if(r&&r?.length>0)throw Error("Error fetching Morpho vault data. Please try again later.");return a.vaultByAddress}var x=n(93233),w=n(89888),T=n(63523),j=n(34150);function S(e){var t,n,a,r;let{vaultAddress:i,recipientAddress:s}=e,o=(0,T.useReadContracts)({contracts:[{abi:v,address:i,functionName:"asset",chainId:b.E.id},{abi:v,address:i,functionName:"name",chainId:b.E.id},{abi:v,address:i,functionName:"decimals",chainId:b.E.id}],query:{enabled:!!i}}),l=o.data,u=o.status,d=null==l?void 0:l[0].result,c=null==l?void 0:l[1].result,p=null==l?void 0:l[2].result,y=(0,j.useReadContract)({abi:v,address:i,functionName:"maxWithdraw",args:[s],chainId:b.E.id,query:{enabled:!!i&&!!s}}),m=y.data,f=y.status,h=y.refetch,S=(0,x.I)({queryKey:["morpho-apy",i],queryFn:()=>g(i)}),A=S.data,N=S.error,k=(null==A?void 0:A.state)?function(e){let t=e.netApyWithoutRewards,n=e.rewards.reduce((e,t)=>e+t.supplyApr,0);return e.netApy-(t+n)}(null==A?void 0:A.state):0,C=m&&(null==A?void 0:A.asset.decimals)?(0,w.J)(m,null==A?void 0:A.asset.decimals):void 0,E=(null==A?void 0:A.state.totalAssets)&&A.asset.decimals?(0,w.J)(BigInt(null==A?void 0:A.state.totalAssets),A.asset.decimals):void 0,M=(null==A?void 0:A.liquidity.underlying)&&A.asset.decimals?(0,w.J)(BigInt(null==A?void 0:A.liquidity.underlying),A.asset.decimals):void 0;return{status:u,error:N,balance:C,balanceStatus:f,refetchBalance:h,asset:{address:d,symbol:null==A?void 0:A.symbol,decimals:null==A?void 0:A.asset.decimals},vaultName:c,vaultDecimals:p,totalApy:null==A?void 0:null===(t=A.state)||void 0===t?void 0:t.netApy,nativeApy:null==A?void 0:null===(n=A.state)||void 0===n?void 0:n.netApyWithoutRewards,vaultFee:null==A?void 0:null===(a=A.state)||void 0===a?void 0:a.fee,deposits:E,liquidity:M,rewards:[{asset:"0xBAa5CC21fd487B8Fcc2F632f3F4E8D37262a0842",assetName:"MORPHO",apy:k},...(null==A?void 0:null===(r=A.state)||void 0===r?void 0:r.rewards.map(e=>({asset:e.asset.address,assetName:e.asset.name,apy:e.supplyApr})))||[]]}}var A=n(74046),N=n(38472),k=n(6592),C=n(26151),E=n(13904),M=n(47561),I=n(35965);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let P=(0,i.createContext)(void 0);function R(e){let{vaultAddress:t,children:n,isSponsored:r,onError:o,onStatus:l,onSuccess:u}=e;if(!t)throw Error("vaultAddress is required. For a list of vaults, see: https://app.morpho.org/base/earn");let d=O((0,E.U)({statusName:"init",statusData:null}),2),c=d[0],p=d[1],y=(0,I.useAccount)().address,m=O((0,i.useState)(""),2),f=m[0],h=m[1],g=O((0,i.useState)(""),2),x=g[0],w=g[1];(0,i.useEffect)(()=>{if("error"===c.statusName&&(null==o||o(c.statusData)),(null==c?void 0:c.statusName)==="success"){var e,t;null==u||u(null==c?void 0:null===(t=c.statusData)||void 0===t?void 0:null===(e=t.transactionReceipts)||void 0===e?void 0:e[0])}null==l||l(c)},[c,l,o,u]);let T=S({vaultAddress:t,recipientAddress:y}),j=T.asset,D=T.balance,R=T.balanceStatus,F=T.refetchBalance,U=T.totalApy,_=T.nativeApy,B=T.vaultFee,L=T.vaultName,q=T.deposits,W=T.liquidity,Q=T.rewards,H=T.error,$=j?function({address:e,symbol:t,name:n,decimals:a}){return C.Ob.find(t=>t.address===e)||(t&&n&&a?{address:e,name:n,symbol:t,decimals:a,image:null,chainId:b.E.id}:void 0)}({address:j.address,symbol:j.symbol,name:j.symbol,decimals:j.decimals}):void 0,V=(0,M.f)(y,$),G=V.convertedBalance,Z=V.status,z=V.refetch,K=function(e){let{vaultAddress:t,recipientAddress:n,amount:a}=e,r=S({vaultAddress:t,recipientAddress:n}).asset;if(!r||!r.decimals||!n)return{calls:[]};let i=(0,k.X)(a,r.decimals);return{calls:function({vaultAddress:e,tokenAddress:t,amount:n,recipientAddress:a}){return[{to:t,data:(0,A.p)({abi:N.xw,functionName:"approve",args:[e,n]})},{to:e,data:(0,A.p)({abi:v,functionName:"deposit",args:[n,a]})}]}({recipientAddress:n,vaultAddress:t,tokenAddress:r.address,amount:i})}}({vaultAddress:t,amount:x,recipientAddress:y}).calls,X=function(e){let{vaultAddress:t,amount:n,recipientAddress:a,tokenDecimals:r}=e,i=S({vaultAddress:t,recipientAddress:a}),s=i.asset,o=i.balance,l=i.vaultDecimals,u=Number(n)>Number(o);return s&&void 0!==o&&l&&a&&!u&&void 0!==r?{calls:function({vaultAddress:e,amount:t,recipientAddress:n}){return[{to:e,data:(0,A.p)({abi:v,functionName:"withdraw",args:[t,n,n]})}]}({recipientAddress:a,vaultAddress:t,amount:(0,k.X)(n,r)})}:{calls:[]}}({vaultAddress:t,amount:f,recipientAddress:y,tokenDecimals:null==$?void 0:$.decimals}).calls,J=(0,i.useCallback)(async e=>{p({statusName:"amountChange",statusData:{amount:e,token:$}}),w(e)},[p,$]),Y=(0,i.useCallback)(async e=>{p({statusName:"amountChange",statusData:{amount:e,token:$}}),h(e)},[p,$]),ee=(0,i.useMemo)(()=>x?0>=Number(x)?"Must be greater than 0":Number(x)>Number(G)?"Amount exceeds the balance":null:null,[x,G]),et=(0,i.useMemo)(()=>f?0===Number(f)?"Must be greater than 0":Number(f)>Number(D)?"Amount exceeds the balance":null:null,[f,D]),en=(0,a.h)({error:H,recipientAddress:y,vaultAddress:t,vaultToken:$,vaultName:L,deposits:q,liquidity:W,depositedBalance:D,depositedBalanceStatus:R,refetchDepositedBalance:F,depositAmount:x,setDepositAmount:J,depositAmountError:ee,withdrawAmount:f,setWithdrawAmount:Y,withdrawAmountError:et,walletBalance:G,walletBalanceStatus:Z,refetchWalletBalance:z,apy:U,nativeApy:_,vaultFee:B,rewards:Q,interestEarned:"",withdrawCalls:X,depositCalls:K,lifecycleStatus:c,updateLifecycleStatus:p,isSponsored:r});return(0,s.jsx)(P.Provider,{value:en,children:n})}function F(){let e=(0,i.useContext)(P);if(!e)throw Error("useEarnContext must be used within an EarnProvider");return e}function U(e,t,n="standard"){if("0"===e)return e;let a=Number(e),r=a%1!=0,i=e.split(".")[1]?.length||0,s=i>t?Math.trunc(a*10**t)/10**t:a;return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:r?Math.min(t,i):0,notation:n}).format(s)}var _=n(74912),B=n(85108);let L=(0,s.jsxs)("svg",{"data-testid":"ock-etherscanSvg",role:"img","aria-label":"Etherscan",width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:"Etherscan"}),(0,s.jsx)("path",{d:"M2.4981 5.70643C2.4981 5.42947 2.72562 5.20195 3.0021 5.20195H3.85218C4.12914 5.20195 4.36626 5.42947 4.36626 5.71651V8.92243C4.46514 8.89267 4.5837 8.86291 4.72242 8.83315C4.9101 8.78371 5.04882 8.61571 5.04882 8.41747V4.43971C5.04882 4.16275 5.27634 3.92515 5.5629 3.92515H6.41298C6.68994 3.92515 6.92706 4.15267 6.92706 4.43971V8.13091C6.92706 8.13091 7.1349 8.04163 7.34226 7.95283C7.50066 7.88371 7.59954 7.73539 7.59954 7.55683V3.15379C7.59954 2.87683 7.82706 2.63923 8.10402 2.63923H8.9541C9.23106 2.63923 9.45858 2.86675 9.45858 3.15379V6.78547C10.1901 6.25123 10.9418 5.60803 11.5351 4.83619C11.7131 4.60867 11.7626 4.31155 11.6637 4.03459C10.576 0.907872 7.15554 -0.754848 4.03122 0.333792C0.906903 1.42243 -0.753897 4.84579 0.333303 7.97299C0.451863 8.32915 0.610263 8.66563 0.797943 8.99203C0.946263 9.24931 1.22322 9.39763 1.51986 9.36787C1.67826 9.35779 1.87602 9.33811 2.12274 9.30835C2.34018 9.28867 2.49858 9.10051 2.49858 8.88259L2.4981 5.70643Z",className:r.Kk.primary}),(0,s.jsx)("path",{d:"M2.47852 10.8519C5.15788 12.8012 8.90524 12.2074 10.8526 9.52613C11.5942 8.49701 11.9993 7.26005 11.9993 5.99381C11.9993 5.85509 11.9892 5.71685 11.9796 5.57812C9.79516 8.85317 5.75116 10.3868 2.47852 10.8519Z",className:r.Kk.primary})]});var q=n(56521);n(39899);var W=n(99386);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function H(e){let{label:t,value:n}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between gap-8",children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{className:"font-semibold",children:n})]})}function $(){var e;let t=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],o=(0,i.useRef)(null),l=(0,i.useRef)(null),u=F(),d=u.vaultToken,c=u.vaultName,p=u.deposits,y=u.liquidity,m=u.vaultAddress;return d&&c?(0,s.jsxs)("div",{ref:l,className:(0,r.cn)(r.Qq.label1,r.yW.foregroundMuted,r.Tp.alternate,"flex items-center justify-center gap-2 rounded-full p-1 px-3"),"data-testid":"ock-vaultDetails",children:[(0,s.jsx)(W.H,{token:d,size:16}),(0,s.jsx)("span",{className:"max-w-24 truncate",title:c,children:c}),(0,s.jsx)("button",{ref:o,type:"button","data-testid":"ock-vaultDetailsButton",className:(0,r.cn)("size-3 [&_path]:fill-[var(--ock-icon-color-foreground-muted)] [&_path]:transition-colors [&_path]:ease-in-out [&_path]:hover:fill-[var(--ock-icon-color-foreground)]",n&&"[&_path]:fill-[var(--ock-icon-color-foreground)]"),onClick:()=>a(!n),children:q.H}),(0,s.jsx)(_.A,{isOpen:n,onClose:()=>a(!1),position:"bottom",align:"start",trigger:o,anchor:l.current,offset:4,children:(0,s.jsxs)("div",{className:(0,r.cn)(r.Tp.default,r.yW.foreground,r.PQ.defaultActive,r.Tp.default,"flex min-w-40 flex-col gap-3 rounded-lg border p-3 text-sm","fade-in animate-in duration-200"),children:[(0,s.jsx)("div",{className:"font-semibold",children:c}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(H,{label:"Token",value:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(W.H,{token:d,size:16}),(0,s.jsx)("span",{className:"max-w-24 truncate",children:d.symbol})]})}),p?(0,s.jsx)(H,{label:"Total deposits",value:"".concat(U(p,1,"compact")," ").concat(d.symbol)}):null,y?(0,s.jsx)(H,{label:"Liquidity",value:"".concat(U(y,1,"compact")," ").concat(d.symbol)}):null]}),(0,s.jsxs)("a",{href:"https://basescan.org/address/".concat(m),target:"_blank",rel:"noopener noreferrer",className:(0,r.cn)(r.yW.primary,"flex max-w-fit items-center gap-1 hover:opacity-80"),"data-testid":"ock-vaultDetailsBaseScanLink",children:[(0,s.jsx)("div",{children:"View on BaseScan"}),(0,s.jsx)("div",{className:"h-3 w-3",children:L})]})]})})]}):(0,s.jsx)(B.E,{className:"!rounded-full h-7 min-w-28"})}function V(e,t=2){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Z(){let e=F(),t=e.rewards,n=e.nativeApy,a=e.vaultToken,i=e.vaultFee;return(0,s.jsxs)("div",{className:(0,r.cn)(r.yW.foregroundMuted,r.PQ.defaultActive,r.Tp.default,"fade-in flex min-w-52 animate-in flex-col gap-2 rounded-lg border p-3 text-sm duration-200"),children:[n?(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnNativeApy",children:[(0,s.jsx)("div",{children:null==a?void 0:a.symbol}),(0,s.jsx)("div",{className:"font-semibold",children:V(n)})]}):null,null==t?void 0:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnRewards",children:[(0,s.jsx)("div",{children:e.assetName}),(0,s.jsx)("div",{className:"font-semibold",children:V(e.apy)})]},e.asset)),i&&n?(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1","data-testid":"ock-earnPerformanceFee",children:[(0,s.jsxs)("div",{children:["Perf. Fee"," ",(0,s.jsxs)("span",{className:"text-xs",children:["(",V(i,0),")"]})]}),(0,s.jsxs)("div",{className:"font-semibold",children:["-",V(i*n)]})]}):null]})}function z(){var e;let t=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return G(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],o=(0,i.useRef)(null),l=(0,i.useRef)(null),u=F().apy;return u?(0,s.jsxs)("div",{ref:l,className:(0,r.cn)(r.Qq.label1,r.yW.foregroundMuted,r.Tp.alternate,"flex items-center justify-center gap-1 rounded-full p-1 px-3"),"data-testid":"ock-yieldDetails",children:["APY ".concat(V(Number(U(u.toString(),4)))),(0,s.jsx)("button",{ref:o,type:"button","data-testid":"ock-apyInfoButton",className:(0,r.cn)("size-3 [&_path]:fill-[var(--ock-icon-color-foreground-muted)] [&_path]:transition-colors [&_path]:ease-in-out [&_path]:hover:fill-[var(--ock-icon-color-foreground)]",n&&"[&_path]:fill-[var(--ock-icon-color-foreground)]"),onClick:()=>a(!n),children:q.H}),(0,s.jsx)(_.A,{isOpen:n,onClose:()=>a(!1),position:"bottom",align:"end",trigger:o,anchor:l.current,offset:4,children:(0,s.jsx)(Z,{})})]}):(0,s.jsx)(B.E,{className:"!rounded-full h-7 min-w-28"})}function K(e){let{className:t}=e,n=F().error;return n?(0,s.jsxs)("div",{className:(0,r.cn)("flex w-full flex-col gap-1 text-sm",r.yW.error),children:[(0,s.jsx)("div",{className:"font-semibold",children:"Error fetching vault details"}),(0,s.jsx)("div",{className:"text-xs",children:n.message})]}):(0,s.jsxs)("div",{"data-testid":"ockEarnDetails",className:(0,r.cn)(r.PQ.radius,"flex w-full items-center justify-between gap-4",t),children:[(0,s.jsx)($,{}),(0,s.jsx)(z,{})]})}var X=n(65435),J=n(52838),Y=n(24473);function ee({className:e,disabled:t,value:n,onChange:a,"aria-label":i}){return(0,s.jsx)("div",{"data-testid":"ockEarnAmountInput",className:(0,r.cn)("flex flex-col",e),children:(0,s.jsx)(X.k,{className:(0,r.cn)(r.Qq.base,r.yW.foreground,"w-full border-none bg-transparent text-5xl","leading-none outline-none"),placeholder:"0.0",value:(0,Y.e)(n),onChange:a,inputValidator:J.d,disabled:t,"aria-label":i})})}function et(e){let{className:t}=e,n=F(),a=n.depositAmount,r=n.setDepositAmount;return(0,s.jsx)(ee,{className:t,value:a,onChange:r,"aria-label":"Deposit Amount"})}function en({className:e,onActionPress:t,title:n,subtitle:a,showAction:i=!1}){return(0,s.jsxs)("div",{className:(0,r.cn)(r.Tp.alternate,r.PQ.radius,"flex items-center justify-between gap-4 p-3 px-4",e),"data-testid":"ockEarnBalance",children:[(0,s.jsxs)("div",{className:(0,r.cn)("flex flex-col",r.yW.foreground),children:[(0,s.jsx)("div",{className:r.Qq.headline,children:n}),(0,s.jsx)("div",{className:(0,r.cn)(r.Qq.label2,r.yW.foregroundMuted),children:a})]}),i&&(0,s.jsx)("button",{onClick:t,className:(0,r.cn)(r.Qq.label2,r.yW.primary),type:"button","aria-label":"Use max",children:"Use max"})]})}function ea(e){let{className:t}=e,n=(0,I.useAccount)().address,a=F(),o=a.setDepositAmount,l=a.vaultToken,u=a.walletBalance,d=a.walletBalanceStatus,c=(0,i.useCallback)(()=>{u&&o(u)},[u,o]),p=(0,i.useMemo)(()=>u?U(u.toString(),6):"0",[u]),y=(0,i.useMemo)(()=>n?l?"pending"===d?(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(B.E,{className:"!bg-[var(--ock-bg-alternate-active)] h-6 w-12"}),(0,s.jsx)("span",{children:null==l?void 0:l.symbol})]}):"".concat(p," ").concat(null==l?void 0:l.symbol):(0,s.jsx)(B.E,{className:(0,r.cn)("!bg-[var(--ock-bg-alternate-active)] h-6 w-24")}):"Wallet not connected",[p,l,n,d]),m=(0,i.useMemo)(()=>n?"Available to deposit":"Connect wallet to deposit",[n]);return(0,s.jsx)(en,{className:t,title:y,subtitle:m,onActionPress:c,showAction:!!u})}var er=n(65126),ei=n(76294);function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let eo=e=>{let t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return es(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(null),0),n=t[0],a=t[1],r=(0,i.useRef)(!1),s=(0,i.useRef)(!1),o=(0,er.s)().sendAnalytics,l=F(),u=l.vaultAddress,d=l.vaultToken,c=l.recipientAddress,p=l.depositAmount,y=(0,i.useMemo)(()=>({amount:Number(p)||Number(e),address:c??"",tokenAddress:d?.address??"",vaultAddress:u}),[e,p,c,d?.address,u]);return(0,i.useEffect)(()=>{"buildingTransaction"===n&&(r.current=!1,o(ei.Dl.EarnDepositInitiated,y)),"success"!==n||r.current||(r.current=!0,o(ei.Dl.EarnDepositSuccess,y)),"error"!==n||s.current||(s.current=!0,o(ei.Dl.EarnDepositFailure,y))},[n,y,o]),{setTransactionState:a}};n(5113),n(36277);var el=n(1630),eu=n(38329),ed=n(11935);function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ep(e){var t;let{className:n}=e,a=F(),o=a.recipientAddress,l=a.vaultToken,u=a.depositCalls,d=a.depositAmount,c=a.setDepositAmount,p=a.depositAmountError,y=a.updateLifecycleStatus,m=a.refetchWalletBalance,f=a.isSponsored,v=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ec(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],h=v[1],g=eo(b).setTransactionState,x=(0,i.useCallback)(e=>{g(e.statusName),"transactionPending"===e.statusName&&y({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&y(e)},[y,g]),w=(0,i.useCallback)(e=>{e.transactionReceipts[0]&&"success"===e.transactionReceipts[0].status&&(d&&h(d),c(""),m())},[d,c,m]);return o?(0,s.jsx)(eu.Z,{className:n,calls:u,onStatus:x,onSuccess:w,isSponsored:f,resetAfter:3e3,children:(0,s.jsx)(ed.v,{text:null!=p?p:"Deposit",successOverride:{text:"Deposited ".concat(b," ").concat(null==l?void 0:l.symbol)},disabled:!!p||!d})}):(0,s.jsx)(el.U,{className:(0,r.cn)("w-full",n),text:"Connect to deposit"})}function ey({children:e,className:t}){return(0,s.jsx)("div",{"data-testid":"ockEarnCard",className:(0,r.cn)(r.PQ.default,"flex flex-col gap-8 border-t p-4",r.Tp.default,t),children:e})}function em(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K,{}),(0,s.jsx)(et,{}),(0,s.jsx)(ea,{}),(0,s.jsx)(ep,{className:"-mt-4 h-12"})]})}function ef(e){let{children:t=(0,s.jsx)(em,{}),className:n}=e;return(0,s.jsx)(ey,{className:n,children:t})}function ev(e){let{className:t}=e,n=F(),a=n.withdrawAmount,r=n.setWithdrawAmount;return(0,s.jsx)(ee,{className:t,value:a,onChange:r,"aria-label":"Withdraw Amount"})}function eb(e){let{className:t}=e,n=F(),a=n.depositedBalance,r=n.depositedBalanceStatus,o=n.setWithdrawAmount,l=n.vaultToken,u=(0,I.useAccount)().address,d=(0,i.useCallback)(()=>{a&&o(a)},[a,o]),c=(0,i.useMemo)(()=>a?U(a.toString(),4):"0",[a]),p=(0,i.useMemo)(()=>u?l?"pending"===r?(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(B.E,{className:"!bg-[var(--ock-bg-alternate-active)] h-6 w-12"}),(0,s.jsx)("span",{children:null==l?void 0:l.symbol})]}):"".concat(c," ").concat(null==l?void 0:l.symbol):(0,s.jsx)(B.E,{className:"h-6 w-24"}):"Wallet not connected",[c,l,u,r]),y=(0,i.useMemo)(()=>u?"Available to withdraw":"Connect wallet to withdraw",[u]);return(0,s.jsx)(en,{className:t,title:p,subtitle:y,onActionPress:d,showAction:"0"!==c})}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let eg=e=>{let t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eh(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(null),0),n=t[0],a=t[1],r=(0,i.useRef)(!1),s=(0,i.useRef)(!1),o=(0,er.s)().sendAnalytics,l=F(),u=l.vaultAddress,d=l.vaultToken,c=l.recipientAddress,p=l.withdrawAmount,y=(0,i.useMemo)(()=>({amount:Number(p)||Number(e),address:c??"",tokenAddress:d?.address??"",vaultAddress:u}),[p,e,c,d?.address,u]);return(0,i.useEffect)(()=>{"buildingTransaction"===n&&(r.current=!1,o(ei.Dl.EarnWithdrawInitiated,y)),"success"!==n||r.current||(r.current=!0,o(ei.Dl.EarnWithdrawSuccess,y)),"error"!==n||s.current||(s.current=!0,o(ei.Dl.EarnWithdrawFailure,y))},[n,y,o]),{setTransactionState:a}};function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ew(e){var t;let{className:n}=e,a=F(),o=a.recipientAddress,l=a.withdrawCalls,u=a.withdrawAmount,d=a.setWithdrawAmount,c=a.updateLifecycleStatus,p=a.refetchDepositedBalance,y=a.withdrawAmountError,m=a.vaultToken,f=a.isSponsored,v=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ex(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],h=v[1],g=eg(b).setTransactionState,x=(0,i.useCallback)(e=>{g(e.statusName),"transactionPending"===e.statusName&&c({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&c(e)},[c,g]),w=(0,i.useCallback)(e=>{e.transactionReceipts[0]&&"success"===e.transactionReceipts[0].status&&(u&&h(u),d(""),p())},[d,p,u]);return o?(0,s.jsx)(eu.Z,{className:n,calls:l,onStatus:x,onSuccess:w,isSponsored:f,resetAfter:3e3,children:(0,s.jsx)(ed.v,{text:null!=y?y:"Withdraw",successOverride:{text:"Withdrew ".concat(b," ").concat(null==m?void 0:m.symbol)},disabled:!!y||!u})}):(0,s.jsx)(el.U,{className:(0,r.cn)("w-full",n),text:"Connect to withdraw"})}function eT(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K,{}),(0,s.jsx)(ev,{}),(0,s.jsx)(eb,{}),(0,s.jsx)(ew,{className:"-mt-4 h-12"})]})}function ej(e){let{children:t=(0,s.jsx)(eT,{}),className:n}=e;return(0,s.jsx)(ey,{className:n,children:t})}function eS(){let e=F(),t=e.refetchWalletBalance,n=e.refetchDepositedBalance;return(0,s.jsxs)(c,{defaultValue:"deposit",children:[(0,s.jsxs)(y,{children:[(0,s.jsx)(p,{value:"deposit",onClick:t,className:"rounded-tl-[calc(var(--ock-border-radius)_-_1px)]",children:"Deposit"}),(0,s.jsx)(p,{value:"withdraw",onClick:n,className:"rounded-tr-[calc(var(--ock-border-radius)_-_1px)]",children:"Withdraw"})]}),(0,s.jsx)(m,{value:"deposit",className:(0,r.cn)(r.PQ.lineDefault,"!border-l-0 !border-b-0 !border-r-0"),children:(0,s.jsx)(ef,{})}),(0,s.jsx)(m,{value:"withdraw",className:(0,r.cn)(r.PQ.lineDefault,"!border-l-0 !border-b-0 !border-r-0"),children:(0,s.jsx)(ej,{})})]})}function eA(e){let{children:t=(0,s.jsx)(eS,{}),className:n,vaultAddress:a,isSponsored:i,onError:o,onStatus:l,onSuccess:u}=e,d=(0,f.D)();return(0,s.jsx)(R,{vaultAddress:a,isSponsored:i,onError:o,onStatus:l,onSuccess:u,children:(0,s.jsx)("div",{className:(0,r.cn)(d,"flex w-[375px] flex-col overflow-hidden",r.PQ.radius,r.PQ.lineDefault,n),children:t})})}},56521:(e,t,n)=>{n.d(t,{H:()=>i});var a=n(49206),r=n(95155);let i=(0,r.jsxs)("svg",{"data-testid":"ock-infoSvg",role:"img","aria-label":"ock-infoSvg",width:"100%",height:"100%",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:"Info"}),(0,r.jsx)("path",{d:"M5 10C7.7625 10 10 7.7625 10 5C10 2.2375 7.7625 0 5 0C2.2375 0 0 2.2375 0 5C0 7.7625 2.2375 10 5 10ZM4.58333 2.08333H5.41667V2.91667H4.58333V2.08333ZM4.58333 3.75H5.41667V7.91667H4.58333V3.75Z",className:a.Kk.foreground})]})},57067:(e,t,n)=>{n.d(t,{Fx:()=>d,Sm:()=>c});var a=n(13904),r=n(79707),i=n(12115),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l={},u=(0,i.createContext)(l);function d(){let e=(0,i.useContext)(u);if(e===l)throw Error("useNFTLifecycleContext must be used within an NFTView or NFTMint component");return e}function c({type:e,onStatus:t,onError:n,onSuccess:l,children:d}){var c;let p=function(e){if(Array.isArray(e))return e}(c=(0,a.U)({statusName:"init",statusData:null}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(c,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],m=p[1];(0,i.useEffect)(()=>{"error"===y.statusName&&n?.(y.statusData),"success"===y.statusName&&l?.(y.statusData?.transactionReceipts?.[0]),t?.(y)},[n,t,l,y,y.statusData,y.statusName]);let f=(0,r.h)({lifecycleStatus:y,type:e,updateLifecycleStatus:m});return(0,s.jsx)(u.Provider,{value:f,children:d})}},15367:(e,t,n)=>{n.d(t,{O1:()=>c,b_:()=>d});var a=n(12115),r=n(79707),i=n(95155);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let l={},u=(0,a.createContext)(l);function d(){let e=(0,a.useContext)(u);if(e===l)throw Error("useNFTContext must be used within an NFTView or NFTMint component");return e}function c({children:e,contractAddress:t,tokenId:n,isSponsored:l,useNFTData:d,buildMintTransaction:c}){var p;let y=function(e){if(Array.isArray(e))return e}(p=(0,a.useState)(1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(p,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=y[0],f=y[1],v=d(t,n),b=(0,a.useCallback)(e=>{f(Number.parseInt(e,10))},[]),h=(0,r.h)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var a,r;a=t,r=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({contractAddress:t,tokenId:n,isSponsored:l,quantity:m,setQuantity:b,buildMintTransaction:c},v));return(0,i.jsx)(u.Provider,{value:h,children:e})}},87935:(e,t,n)=>{function a(...e){if(1===e.length)return e[0];let t=e.reduce((e,t)=>{let n=t.toString(),a=(n.split(".")[1]||"").length,r=Number(n.replace(".",""));return{result:e.result*r,decimalPlaces:e.decimalPlaces+a}},{result:1,decimalPlaces:0}),n=t.result,r=t.decimalPlaces;return n/10**r}n.d(t,{u:()=>u});var r=n(15367),i=n(49206),s=n(24473),o=n(16739),l=n(95155);function u({className:e}){let t=(0,r.b_)(),n=t.price,u=t.quantity;return n?.amount!==void 0&&n.currency&&void 0!==n.amountUSD?0===Number(n?.amount)?(0,l.jsx)("div",{className:(0,i.cn)(i.Qq.body,"flex py-1",e),children:"Free"}):(0,l.jsxs)("div",{className:(0,i.cn)(i.Qq.body,"flex py-1",e),children:[(0,l.jsxs)("div",{className:i.Qq.headline,children:[(0,s.e)(`${a(Number(n.amount),u)}`)," ",n.currency]}),(0,l.jsx)("div",{className:"px-2",children:"~"}),(0,l.jsxs)("div",{children:["$",(0,o.e)(`${a(Number(n.amountUSD),u)}`,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):null}},78665:(e,t,n)=>{n.d(t,{H:()=>s});var a=n(49206),r=n(15367),i=n(95155);function s({className:e}){let t=(0,r.b_)().name;return t?(0,i.jsx)("div",{className:(0,a.cn)(a.Qq.title1,"overflow-hidden text-ellipsis",e),children:t}):null}},28507:(e,t,n)=>{n.d(t,{f:()=>c}),n(70652);var a=n(15367),r=n(49206),i=n(15865),s=n(95155),o=n(24954),l=n(79440),u=n(75563),d=n(9316);function c({className:e}){let t=(0,i.E)().schemaId,n=(0,a.b_)().creatorAddress;return n?(0,s.jsx)("div",{className:(0,r.cn)("-my-1 flex justify-between",e),children:(0,s.jsxs)(o.l,{className:"px-0 py-0 [&>div]:space-x-2",address:n,schemaId:t,children:[(0,s.jsx)(l.e,{className:"h-4 w-4"}),(0,s.jsx)(u.S,{children:(0,s.jsx)(d.E,{})})]})}):null}},73737:(e,t,n)=>{n.d(t,{x:()=>w});var a=n(12364),r=n(57067),i=n(15367),s=n(15177),o=n(49206);n(5113),n(36277);var l=n(12115),u=n(55372),d=n(35965),c=n(95155),p=n(1630),y=n(38329),m=n(11935),f=n(98024),v=n(83996),b=n(57847),h=n(67192);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function w({className:e,label:t="Mint",disabled:n,pendingOverride:x,successOverride:w,errorOverride:T}){let j=(0,u.useChainId)(),S=(0,d.useAccount)().address,A=(0,i.b_)(),N=A.contractAddress,k=A.tokenId,C=A.network,E=A.isEligibleToMint,M=A.buildMintTransaction,I=A.isSponsored,O=A.quantity,D=A.name,P=(0,r.Fx)().updateLifecycleStatus,R=g((0,l.useState)([]),2),F=R[0],U=R[1],_=g((0,l.useState)(null),2),B=_[0],L=_[1],q=(0,s.I)().setTransactionState,W=(0,l.useCallback)(e=>{P({statusName:"error",statusData:{error:"Error building mint transaction",code:"NmNBc01",message:e}}),L(e)},[P]),Q=(0,l.useCallback)(async()=>{if(D&&S&&M&&E)try{U([]),L(null),q("buildingTransaction");let e=await M({takerAddress:S,contractAddress:N,tokenId:k,network:C,quantity:O});U(e)}catch(e){W(e)}else U([])},[S,M,N,W,E,D,C,O,q,k]);(0,l.useEffect)(()=>{Q()},[Q]);let H=(0,l.useCallback)(e=>{q(e.statusName),"transactionPending"===e.statusName&&P({statusName:"transactionPending"}),("transactionLegacyExecuted"===e.statusName||"success"===e.statusName||"error"===e.statusName)&&P(e)},[P,q]),$=(0,l.useMemo)(()=>!1===E||B?"Minting not available":0===F.length?(0,c.jsx)(a.y,{}):t,[F,E,t,B]);return M?S?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(y.Z,{isSponsored:I,chainId:j,calls:F,onStatus:H,children:[(0,c.jsx)(m.v,{className:e,text:$,pendingOverride:x,successOverride:w,errorOverride:T,disabled:n||$!==t}),!B&&(0,c.jsx)(f.N,{}),(0,c.jsxs)(v.x,{children:[(0,c.jsx)(b.X,{}),(0,c.jsx)(h.z,{})]})]}),B&&(0,c.jsx)("div",{className:(0,o.cn)(o.Qq.label2,o.yW.foregroundMuted,"pb-2"),children:B})]}):(0,c.jsx)(p.U,{className:(0,o.cn)("w-full",e)}):null}},34189:(e,t,n)=>{n.d(t,{T:()=>c});var a=n(12115),r=n(65435),i=n(49206),s=n(95155);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l({className:e,disabled:t,minQuantity:n=1,maxQuantity:l=Number.MAX_SAFE_INTEGER,onChange:u,placeholder:d}){var c;let p=function(e){if(Array.isArray(e))return e}(c=(0,a.useState)(`${n}`))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(c,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],m=p[1],f=(0,a.useCallback)(e=>!(Number.parseInt(e,10)<n||Number.parseInt(e,10)>l)&&/^[0-9]*$/.test(e),[l,n]),v=(0,a.useCallback)(()=>{let e=`${Math.min(l,Number.parseInt(y,10)+1)}`;m(e),u(e)},[u,l,y]),b=(0,a.useCallback)(()=>{let e=`${Math.max(n,Number.parseInt(y,10)-1)}`;m(e),u(e)},[u,n,y]),h=(0,a.useCallback)(e=>{""!==e&&u(e)},[u]),g=(0,a.useCallback)(()=>{""===y&&(m(n.toString()),u(n.toString()))},[u,n,y]),x=(0,i.cn)("h-11 w-11 rounded-lg border",i.PQ.defaultActive,i.yW.foreground,i.Tp.default,t&&i.wD.disabled);return(0,s.jsxs)("div",{className:(0,i.cn)("relative flex items-center gap-1",e),"data-testid":"ockQuantitySelector",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{"aria-label":"decrement",className:(0,i.cn)(x,i.wD.default),"data-testid":"ockQuantitySelector_decrement",disabled:t,onClick:b,type:"button",children:"-"})}),(0,s.jsx)(r.k,{"aria-label":"quantity",className:(0,i.cn)(x,"w-full text-center hover:bg-[var(--ock-bg-default-hover)] focus:bg-transparent"),delayMs:200,disabled:t,inputValidator:f,onBlur:g,onChange:h,placeholder:d,setValue:m,value:y}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{"aria-label":"increment",className:(0,i.cn)(x,i.wD.default),"data-testid":"ockQuantitySelector_increment",disabled:t,onClick:v,type:"button",children:"+"})})]})}var u=n(15367),d=n(15177);function c({className:e}){let t=(0,u.b_)(),n=t.maxMintsPerWallet,a=t.setQuantity,r=(0,d.I)().handleQuantityChange;return 1===n?null:(0,s.jsx)("div",{className:(0,i.cn)("py-1",e),children:(0,s.jsx)(l,{className:e,onChange:e=>{a(e);let t=Number.parseInt(e,10);Number.isNaN(t)||r(t)},minQuantity:1,maxQuantity:n,placeholder:""})})}},87046:(e,t,n)=>{n.d(t,{u2:()=>i.u,HW:()=>s.H,x$:()=>a.x,TK:()=>r.T}),n(28507);var a=n(73737);n(70652),n(15367),n(49206),n(15865),n(95155),n(24954),n(79440),n(75563);var r=n(34189),i=n(87935);n(56521),n(12115);var s=n(78665)},83507:(e,t,n)=>{n(15367),n(49206),n(95155)},54281:(e,t,n)=>{n.d(t,{V:()=>v});var a=n(57067),r=n(15367),i=n(74390),s=n(12115),o=n(49206),l=n(95155);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function d({className:e,onLoading:t,onLoaded:n,onError:a}){var i;let d=(0,r.b_)().animationUrl,c=(0,s.useRef)(null),p=function(e){if(Array.isArray(e))return e}(i=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(i,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,2):void 0}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],m=p[1];(0,s.useEffect)(()=>{d&&c?.current&&(c.current.onloadstart=()=>{t?.(d)},c.current.onloadeddata=()=>{n?.()},c.current.addEventListener("ended",function(){m(!1)}),c.current.onerror=e=>{a?.({error:"string"==typeof e?e:e.type,code:"NmNAc01",message:"Error loading audio"})})},[d,t,n,a]);let f=(0,s.useCallback)(e=>{e.stopPropagation(),y?(c.current?.pause(),m(!1)):(c.current?.play(),m(!0))},[y]);return d?(0,l.jsxs)("div",{className:(0,o.cn)("max-h-350 w-350 max-w-350",e),children:[(0,l.jsx)("button",{type:"button",className:(0,o.cn)(o.Tp.reverse,"ml-6 inline-flex h-[42px] w-[42px] cursor-pointer items-center justify-center rounded-full"),onClick:f,children:(0,l.jsx)("div",{className:(0,o.cn)("ml-px box-border h-[18px] transition-all ease-[100ms] will-change-[border-width]","border-transparent border-l-[var(--ock-bg-default)] hover:border-l-[var(--ock-bg-default-hover)]",{"border-[length:0_0_0_16px] border-double":y,"-mr-px border-[length:9px_0_9px_16px] border-solid":!y})})}),(0,l.jsx)("audio",{ref:c,"data-testid":"ockNFTAudio",autoPlay:!1,controls:!1,src:d,children:(0,l.jsx)("track",{kind:"captions"})})]}):null}let c=(0,l.jsxs)("svg",{"data-testid":"ock-defaultNFTSvg",role:"img","aria-label":"loading",width:"100%",height:"100%",viewBox:"0 0 527.008 525",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{fill:"#F3F4F6",width:"100%",height:"100%",className:o.GS.alternate}),(0,l.jsx)("path",{d:"M232.062 258.667C232.062 268.125 236.209 276.614 242.783 282.417H284.675C291.249 276.614 295.396 268.125 295.396 258.667C295.396 241.178 281.218 227 263.729 227C246.24 227 232.062 241.178 232.062 258.667ZM265.697 253.74L276.646 257.792L265.697 261.843L261.646 272.792L257.594 261.843L246.646 257.792L257.594 253.74L261.646 242.792L265.697 253.74ZM274.146 237.792L276.172 243.266L281.646 245.292L276.172 247.317L274.146 252.792L272.12 247.317L266.646 245.292L272.12 243.266L274.146 237.792Z",fill:"#6B7280",className:o.GS.defaultReverse}),(0,l.jsx)("path",{d:"M287.479 288.25H240.813L234.979 297H293.312L287.479 288.25Z",fill:"#6B7280",className:o.GS.defaultReverse})]});function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function m({className:e,square:t=!0,onLoading:n,onLoaded:a,onError:i}){let u=(0,r.b_)(),d=u.imageUrl,y=u.description,m=p((0,s.useState)(!1),2),f=m[0],v=m[1],b=p((0,s.useState)(!1),2),h=b[0],g=b[1],x=(0,s.useCallback)(()=>{if(d){n?.(d);let e=new Image;e.onload=()=>{v(!0),a?.()},e.onerror=e=>{i?.({error:"string"==typeof e?e:e.type,code:"NmNIc01",message:"Error loading image"}),g(!0)},e.src=d}},[d,n,a,i]);(0,s.useEffect)(()=>{x()},[x]);let w=(0,s.useCallback)(async e=>{e.stopPropagation(),g(!1),x()},[x]);return(0,l.jsxs)("div",{className:(0,o.cn)("grid aspect-square w-full","[&>*]:col-start-1 [&>*]:col-end-1 [&>*]:row-start-1 [&>*]:row-end-1",e),children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:c}),(0,l.jsx)("div",{className:(0,o.cn)("grid h-full w-full content-center justify-center overflow-hidden",{"aspect-square":t}),children:(0,l.jsx)("img",{"data-testid":"ockNFTImage",src:d,alt:y,decoding:"async",className:(0,o.cn)("transition-opacity duration-500 ease-in-out",f?"opacity-100":"opacity-0",{"h-full w-full object-cover":t})})}),h&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("button",{type:"button",onClick:w,className:"z-10 mt-[60%]",children:"retry"})})]})}function f({className:e,square:t=!0,onLoading:n,onLoaded:a,onError:i}){let u=(0,r.b_)(),d=u.animationUrl,p=u.imageUrl,y=(0,s.useRef)(null);return((0,s.useEffect)(()=>{d&&y?.current&&(y.current.onloadstart=()=>{n?.(d)},y.current.onloadeddata=()=>{a?.()},y.current.onerror=e=>{i?.({error:"string"==typeof e?e:e.type,code:"NmNVc01",message:"Error loading video"})})},[d,n,a,i]),d)?(0,l.jsx)("div",{className:(0,o.cn)("grid aspect-square w-full","[&>*]:col-start-1 [&>*]:col-end-1 [&>*]:row-start-1 [&>*]:row-end-1",{"content-center justify-center":!t},e),children:(0,l.jsx)("video",{ref:y,"data-testid":"ockNFTVideo",className:(0,o.cn)({"h-full w-full object-cover":t}),poster:p,controls:!0,loop:!0,src:d,muted:!0,autoPlay:!0,playsInline:!0,draggable:!1,width:"100%"})}):(0,l.jsx)("div",{className:"max-h-350 w-350 max-w-350",children:c})}function v({className:e,square:t}){let n=(0,r.b_)().mimeType,u=(0,a.Fx)(),c=u.type,p=u.updateLifecycleStatus,y=(0,s.useMemo)(()=>n?.startsWith("video")?i.z.Video:n?.startsWith("audio")||n?.startsWith("application")?i.z.Audio:n?.startsWith("image")?i.z.Image:i.z.Unknown,[n]),v=(0,s.useCallback)(e=>{p({statusName:"mediaLoading",statusData:{mediaType:y,mediaUrl:e}})},[y,p]),b=(0,s.useCallback)(()=>{p({statusName:c===i.d.MINT?"mediaLoaded":"success"})},[c,p]),h=(0,s.useCallback)(e=>{p({statusName:"error",statusData:e})},[p]),g=(0,s.useMemo)(()=>{switch(y){case i.z.Video:return(0,l.jsx)(f,{square:t,onLoading:v,onLoaded:b,onError:h});case i.z.Audio:return(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(m,{square:t}),(0,l.jsx)("div",{className:"absolute bottom-4 mx-auto w-full",children:(0,l.jsx)(d,{})})]});default:return(0,l.jsx)(m,{square:t,onLoading:v,onLoaded:b,onError:h})}},[h,b,v,y,t]);return(0,l.jsx)("div",{className:(0,o.cn)("pb-2",e),children:g})}},69488:(e,t,n)=>{var a=n(2554),r=n(95155);n(49206),a.E},50499:(e,t,n)=>{n(15367),n(15865),n(70652),n(49206),n(95155),n(24954),n(79440),n(75563),n(9316)},32206:(e,t,n)=>{n(15367),n(49206),n(95155)},45955:(e,t,n)=>{n.d(t,{V:()=>a.V}),n(83507);var a=n(54281);n(15367),n(12115),n(49206),n(95155),n(50499),n(32206),n(69488)},15177:(e,t,n)=>{n.d(t,{I:()=>c});var a=n(65126),r=n(76294),i=n(15367),s=n(12115),o=n(35965);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var a,r;a=t,r=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}let c=()=>{let e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,s.useState)(null),0),t=e[0],n=e[1],l=(0,s.useRef)(!1),c=(0,s.useRef)(!1),p=(0,a.s)().sendAnalytics,y=(0,o.useAccount)().address,m=(0,i.b_)(),f=m.contractAddress,v=m.tokenId,b=m.quantity,h=m.isSponsored,g=(0,s.useMemo)(()=>v&&y?{address:y,contractAddress:f,tokenId:v,quantity:b,isSponsored:h??!1}:null,[y,f,v,b,h]);return(0,s.useEffect)(()=>{g&&("buildingTransaction"===t&&(l.current=!1,c.current=!1,p(r.BT.MintInitiated,g)),"success"!==t||l.current||(l.current=!0,p(r.BT.MintSuccess,u(u({},g),{},{amountMinted:b}))),"error"!==t||c.current||(c.current=!0,p(r.BT.MintFailure,{error:"Transaction failed",metadata:g})))},[t,b,g,p]),{setTransactionState:n,handleQuantityChange:e=>{p(r.BT.MintQuantityChanged,{quantity:e})}}}},76611:(e,t,n)=>{n.d(t,{jb:()=>O});var a=n(93666),r=n(92033),i=n(57067),s=n(15367);n(87046);var o=n(43816);function l(e){return e?!function(e){try{let t=new URL(e);return"ipfs:"===t.protocol}catch{return!1}}(e)?e:e.replace("ipfs://","https://ipfs.io/ipfs/"):void 0}var u=n(12115),d=n(35965),c=n(76963),p=n(93233);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t){var n;let a=(0,i.Fx)().updateLifecycleStatus,r=function(e){if(Array.isArray(e))return e}(n=(0,u.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(a=i.call(n)).done)&&(o.push(a.value),2!==o.length);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=r[0],v=r[1],b=(0,d.useAccount)().address;(0,u.useEffect)(()=>{s&&a({statusName:"error",statusData:s})},[s,a]);let h=function(e,t=o.bb.Hook){let n=e.contractAddress,a=e.takerAddress,r=e.tokenId,i=e.queryOptions;return(0,p.I)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var a,r;a=t,r=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({queryKey:["useMintDetails",n,a,r],queryFn:async()=>{let e=await (0,c.r)({contractAddress:n,takerAddress:a,tokenId:r},t);if(null!==e&&"object"==typeof e&&"error"in e)throw e;return e},retry:!1,refetchOnWindowFocus:!1},i))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var a,r;a=t,r=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({contractAddress:e,takerAddress:b},t?{tokenId:t}:{}),o.bb.NFT),g=h.error,x=h.data;return g&&!s?(v({code:"NmMD01",message:g.message,error:"Error fetching mint data"}),g):{name:x?.name,description:x?.description,imageUrl:l(x?.imageUrl),animationUrl:l(x?.animationUrl),mimeType:x?.mimeType,contractType:x?.contractType,maxMintsPerWallet:x?.maxMintsPerWallet===0?void 0:x?.maxMintsPerWallet,price:x?.price,mintFee:x?.mintFee,isEligibleToMint:x?.isEligibleToMint,creatorAddress:x?.creatorAddress,totalOwners:x?.totalOwners,network:x?.network}}var b=n(74390),h=n(9673);async function g({mintAddress:e,tokenId:t,network:n,quantity:a,takerAddress:r}){let i=await (0,h.f)({mintAddress:e,tokenId:t,network:n,quantity:a,takerAddress:r},o.bb.NFT);if("error"in i)throw i.message;return[{to:i.call_data.to,data:i.call_data.data,value:BigInt(i.call_data.value)}]}function x({contractAddress:e,takerAddress:t,tokenId:n,quantity:a,network:r}){return g({mintAddress:e,takerAddress:t,tokenId:n,quantity:a,network:r})}var w=n(49206),T=n(95155);class j extends u.Component{constructor(...e){super(...e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.error){if(this.props.fallback){let e=this.props.fallback;return(0,T.jsx)(e,{error:this.state.error})}return(0,T.jsx)("h1",{children:"Sorry, we had an unhandled error"})}return this.props.children}}function S({error:e}){let t=(0,r.D)();return(0,T.jsxs)("div",{className:(0,w.cn)(t,w.yW.foreground,w.Tp.default,w.PQ.defaultActive,w.PQ.radius,"flex w-full max-w-[500px] flex-col items-center justify-center border px-6 py-4"),"data-testid":"ockNFTErrorFallback_Container",children:[(0,T.jsx)("div",{children:"Sorry, please try again later."}),(0,T.jsx)("div",{children:e.message})]})}n(45955);var A=n(28507),N=n(54281),k=n(78665),C=n(34189),E=n(87935),M=n(73737);function I(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(A.f,{}),(0,T.jsx)(N.V,{}),(0,T.jsx)(k.H,{}),(0,T.jsx)(C.T,{}),(0,T.jsx)(E.u,{}),(0,T.jsx)(M.x,{})]})}function O(e){let{children:t=(0,T.jsx)(I,{}),className:n,contractAddress:o,tokenId:l,isSponsored:u,useNFTData:d=v,buildMintTransaction:c=x,onStatus:p,onError:y,onSuccess:m}=e,f=(0,r.D)();return(0,a.a)()?(0,T.jsx)(j,{fallback:S,children:(0,T.jsx)(i.Sm,{type:b.d.MINT,onStatus:p,onError:y,onSuccess:m,children:(0,T.jsx)(s.O1,{contractAddress:o,tokenId:l,isSponsored:u,useNFTData:d,buildMintTransaction:c,children:(0,T.jsx)("div",{className:(0,w.cn)(f,w.yW.foreground,w.Tp.default,w.PQ.defaultActive,w.PQ.radius,"flex w-full max-w-[500px] flex-col gap-2 border p-4",n),"data-testid":"ockNFTMintCard_Container",children:t})})})}):null}n(74838),n(32206),n(50499),n(83507),n(69488)},74390:(e,t,n)=>{n.d(t,{d:()=>r,z:()=>a});let a=function(e){return e.Image="image",e.Video="video",e.Audio="audio",e.Unknown="unknown",e}({}),r=function(e){return e.VIEW="view",e.MINT="mint",e}({})},32493:(e,t,n)=>{n.d(t,{_z:()=>a._});var a=n(76238);n(82046),n(12042),n(95155),n(84572),n(42495),n(71716),n(51058),n(92888),n(30429),n(55126)},98024:(e,t,n)=>{n.d(t,{N:()=>s});var a=n(49206),r=n(11626),i=n(95155);function s({className:e}){let t=(0,r.Fn)(),n=t.errorMessage,s=t.lifecycleStatus,o=t.paymasterUrl,l=t.receipt,u=t.transactionHash,d=t.transactionId;return"init"!==s.statusName||!o||n||d||u||l?null:(0,i.jsx)("div",{className:(0,a.cn)(a.Qq.label2,"flex",e),children:(0,i.jsx)("p",{className:a.yW.foregroundMuted,children:"Zero transaction fee"})})}},5113:(e,t,n)=>{n.d(t,{ZX:()=>a.Z});var a=n(38329);n(11935),n(95155),n(98024),n(83996),n(67192),n(57847),n(39381),n(69536),n(78898),n(51692)},81630:(e,t,n)=>{n.d(t,{o:()=>m});var a=n(5918),r=n(99378),i=n(80173),s=n(41329),o=n(74046),l=n(72447),u=n(30533);async function d(e,t){let n=t.contracts.map(e=>{let{address:t,abi:n,functionName:a,args:r,value:i}=e;return{data:(0,o.p)({abi:n,functionName:a,args:r}),to:t,value:i}});return(0,l.T)(e,u.y,"sendCalls")({...t,calls:n})}var c=n(31127);async function p(e,t){let{account:n,chainId:a,connector:r,...i}=t;return d(await (0,c.r)(e,{account:n,chainId:a,connector:r}),{...i,...n?{account:n}:{},chain:a?{id:a}:void 0})}var y=n(90501);function m(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:n}=t,o=(e=(0,y.useConfig)(t),{mutationFn:t=>p(e,t),mutationKey:["writeContracts"]}),l=(0,s.n)((0,a._)({},n,o)),{mutate:u,mutateAsync:d}=l,c=(0,i._)(l,["mutate","mutateAsync"]);return(0,r._)((0,a._)({},c),{writeContracts:u,writeContractsAsync:d})}},87884:(e,t,n)=>{n.d(t,{useEnsAvatar:()=>c});var a=n(5918),r=n(99378),i=n(16816),s=n(82400),o=n(22538),l=n(50012),u=n(55372),d=n(90501);function c(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{name:c,query:p={}}=n,y=(0,d.useConfig)(n),m=(0,u.useChainId)({config:y}),f=function(e,t={}){return{async queryFn({queryKey:t}){let{name:n,scopeKey:a,...r}=t[1];if(!n)throw Error("name is required");return function(e,t){let{chainId:n,...a}=t,r=e.getClient({chainId:n});return(0,s.T)(r,i.i,"getEnsAvatar")(a)}(e,{...r,name:n})},queryKey:function(e={}){return["ensAvatar",(0,o.xO)(e)]}(t)}}(y,(0,r._)((0,a._)({},n),{chainId:null!==(e=n.chainId)&&void 0!==e?e:m})),v=!!(c&&(null===(t=p.enabled)||void 0===t||t));return(0,l.IT)((0,r._)((0,a._)({},p,f),{enabled:v}))}},64750:(e,t,n)=>{n.d(t,{useEnsName:()=>c});var a=n(5918),r=n(99378),i=n(99283),s=n(82400),o=n(22538),l=n(50012),u=n(55372),d=n(90501);function c(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{address:c,query:p={}}=n,y=(0,d.useConfig)(n),m=(0,u.useChainId)({config:y}),f=function(e,t={}){return{async queryFn({queryKey:t}){let{address:n,scopeKey:a,...r}=t[1];if(!n)throw Error("address is required");return function(e,t){let{chainId:n,...a}=t,r=e.getClient({chainId:n});return(0,s.T)(r,i.s,"getEnsName")(a)}(e,{...r,address:n})},queryKey:function(e={}){return["ensName",(0,o.xO)(e)]}(t)}}(y,(0,r._)((0,a._)({},n),{chainId:null!==(e=n.chainId)&&void 0!==e?e:m})),v=!!(c&&(null===(t=p.enabled)||void 0===t||t));return(0,l.IT)((0,r._)((0,a._)({},p,f),{enabled:v}))}},63523:(e,t,n)=>{n.d(t,{useReadContracts:()=>c});var a=n(5918),r=n(99378),i=n(40971),s=n(22538),o=n(12115),l=n(50012),u=n(55372),d=n(90501);function c(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{contracts:n=[],query:c={}}=t,p=(0,d.useConfig)(t),y=(0,u.useChainId)({config:p}),m=function(e,t={}){return{async queryFn({queryKey:n}){let a=[],r=n[1].contracts.length;for(let e=0;e<r;e++){let r=n[1].contracts[e],i=(t.contracts?.[e]).abi;a.push({...r,abi:i})}let{scopeKey:s,...o}=n[1];return(0,i.I)(e,{...o,contracts:a})},queryKey:function(e={}){let t=[];for(let n of e.contracts??[]){let{abi:a,...r}=n;t.push({...r,chainId:r.chainId??e.chainId})}return["readContracts",(0,s.xO)({...e,contracts:t})]}(t)}}(p,(0,r._)((0,a._)({},t),{chainId:y})),f=(0,o.useMemo)(()=>{var e;let t=!1;for(let e of n){let{abi:n,address:a,functionName:r}=e;if(!n||!a||!r){t=!1;break}t=!0}return!!(t&&(null===(e=c.enabled)||void 0===e||e))},[n,c.enabled]);return(0,l.IT)((0,r._)((0,a._)({},m,c),{enabled:f,structuralSharing:null!==(e=c.structuralSharing)&&void 0!==e?e:s.I_}))}}}]);