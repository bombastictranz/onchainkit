"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5434],{30064:(t,e,i)=>{let n;i.d(e,{Ay:()=>H});var s,r=i(12115);let a=(t,e,i)=>{let n=document.createElement(t),[s,r]=Array.isArray(e)?[void 0,e]:[e,i];return s&&Object.assign(n,s),null==r||r.forEach(t=>n.appendChild(t)),n},o=(t,e)=>{var i;return"left"===e?t.offsetLeft:((null==(i=t.offsetParent instanceof HTMLElement?t.offsetParent:null)?void 0:i.offsetWidth)??0)-t.offsetWidth-t.offsetLeft},l=t=>t.offsetWidth>0&&t.offsetHeight>0,h=(String.raw,String.raw),p="u">typeof CSS&&CSS.supports&&CSS.supports("animation-timing-function","linear(1,2)"),d="u">typeof CSS&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),u="u">typeof matchMedia?matchMedia("(prefers-reduced-motion: reduce)"):null,c="--_number-flow-d-opacity",f="--_number-flow-d-width",m="--_number-flow-dx",g="--_number-flow-d",v=(()=>{try{return CSS.registerProperty({name:c,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:m,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:f,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:g,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),y="var(--number-flow-char-height, 1em)",_="var(--number-flow-mask-height, 0.25em)",w=`calc(${_} / 2)`,b="var(--number-flow-mask-width, 0.5em)",C=`calc(${b} / var(--scale-x))`,E="#000 0, transparent 71%",S=h`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${y} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${f}) / var(--width));transform:translateX(var(${m})) scaleX(var(--scale-x));margin:0 calc(-1 * ${b});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${C},#000 calc(100% - ${C}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${_},#000 calc(100% - ${_}),transparent 100% ),radial-gradient(at bottom right,${E}),radial-gradient(at bottom left,${E}),radial-gradient(at top left,${E}),radial-gradient(at top right,${E});-webkit-mask-size:100% calc(100% - ${_} * 2),calc(100% - ${C} * 2) 100%,${C} ${_},${C} ${_},${C} ${_},${C} ${_};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${w} ${b};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${m})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${g})}.digit__num,.number .section::after{padding:${w} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${c}))}`,x=HTMLElement,R=(h`:host{display:inline-block;direction:ltr;white-space:nowrap;line-height:${y} !important}span{display:inline-block}:host([data-will-change]) span{will-change:transform}.number,.digit{padding:${w} 0}.symbol{white-space:pre}`,t=>`<span class="${"integer"===t.type||"fraction"===t.type?"digit":"symbol"}" part="${"integer"===t.type||"fraction"===t.type?`digit ${t.type}-digit`:`symbol ${t.type}`}">${t.value}</span>`),$=d&&p&&v;class A extends x{constructor(){super(),this.created=!1,this.manual=!1;let{animated:t,...e}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,e)}get animated(){return this._animated}set animated(t){var e;this.animated!==t&&(this._animated=t,null==(e=this.shadowRoot)||e.getAnimations().forEach(t=>t.finish()))}set data(t){var e;if(null==t)return;let{pre:i,integer:s,fraction:r,post:a,value:o}=t;if(this.created){let n=this._data;this._data=t,this.computedTrend="function"==typeof this.trend?this.trend(n.value,o):this.trend,this.computedAnimated=$&&this._animated&&(!this.respectMotionPreference||!(null!=u&&u.matches))&&l(this),null==(e=this.plugins)||e.forEach(e=>{var i;return null==(i=e.onUpdate)?void 0:i.call(e,t,n,this)}),this.manual||this.willUpdate(),this._pre.update(i),this._num.update({integer:s,fraction:r}),this._post.update(a),this.manual||this.didUpdate()}else{if(this._data=t,this.attachShadow({mode:"open"}),"u">typeof CSSStyleSheet&&this.shadowRoot.adoptedStyleSheets)n||(n=new CSSStyleSheet).replaceSync(S),this.shadowRoot.adoptedStyleSheets=[n];else{let t=document.createElement("style");t.textContent=S,this.shadowRoot.appendChild(t)}this._pre=new P(this,i,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new k(this,s,r),this.shadowRoot.appendChild(this._num.el),this._post=new P(this,a,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el)}this.created=!0}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();let t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(t=>t.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}A.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(t,e)=>Math.sign(e-t),respectMotionPreference:!0,plugins:void 0,digits:void 0};class k{constructor(t,e,i,{className:n,...s}={}){this.flow=t,this._integer=new j(t,e,{justify:"right",part:"integer"}),this._fraction=new j(t,i,{justify:"left",part:"fraction"}),this._inner=a("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=a("span",{...s,part:"number",className:`number ${n??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:e}){this._integer.update(t),this._fraction.update(e)}didUpdate(){let t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();let e=this._prevLeft-t.left,i=this.el.offsetWidth,n=this._prevWidth-i;this.el.style.setProperty("--width",String(i)),this.el.animate({[m]:[`${e}px`,"0px"],[f]:[n,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class U{constructor(t,e,{justify:i,className:n,...s},r){this.flow=t,this.children=new Map,this.onCharRemove=t=>()=>{this.children.delete(t)},this.justify=i;let o=e.map(t=>this.addChar(t).el);this.el=a("span",{...s,className:`section section--justify-${i} ${n??""}`},r?r(o):o)}addChar(t,{startDigitsAtZero:e=!1,...i}={}){let n="integer"===t.type||"fraction"===t.type?new T(this,t.type,e?0:t.value,t.pos,{...i,onRemove:this.onCharRemove(t.key)}):new L(this,t.type,t.value,{...i,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,n),n}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(t=>{t.el.style.top=`${t.el.offsetTop}px`,t.el.style[this.justify]=`${o(t.el,this.justify)}px`}),t.forEach(t=>{t.el.setAttribute("inert",""),t.present=!1})}addNewAndUpdateExisting(t){let e=new Map,i=new Map,n="left"===this.justify,s=n?"prepend":"append";if(function(t,e,{reverse:i=!1}={}){let n=t.length;for(let s=i?n-1:0;i?s>=0:s<n;i?s--:s++)e(t[s],s)}(t,t=>{let n;this.children.has(t.key)?(n=this.children.get(t.key),i.set(t,n),this.unpop(n),n.present=!0):(n=this.addChar(t,{startDigitsAtZero:!0,animateIn:!0}),e.set(t,n)),this.el[s](n.el)},{reverse:n}),this.flow.computedAnimated){let t=this.el.getBoundingClientRect();e.forEach(e=>{e.willUpdate(t)})}e.forEach((t,e)=>{t.update(e.value)}),i.forEach((t,e)=>{t.update(e.value)})}willUpdate(){let t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(e=>e.willUpdate(t))}didUpdate(){let t=this.el.getBoundingClientRect();this.children.forEach(e=>e.didUpdate(t));let e=t[this.justify],i=this._prevOffset-e;i&&this.children.size&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class j extends U{update(t){let e=new Map;this.children.forEach((i,n)=>{t.find(t=>t.key===n)||e.set(n,i),this.unpop(i)}),this.addNewAndUpdateExisting(t),e.forEach(t=>{t instanceof T&&t.update(0)}),this.pop(e)}}class P extends U{update(t){let e=new Map;this.children.forEach((i,n)=>{t.find(t=>t.key===n)||e.set(n,i)}),this.pop(e),this.addNewAndUpdateExisting(t)}}class M{constructor(t,e,{onRemove:i,animateIn:n=!1}={}){this.flow=t,this.el=e,this._present=!0,this._remove=()=>{var t;this.el.remove(),null==(t=this._onRemove)||t.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&n&&this.el.animate({[c]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=i}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[c]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class N extends M{constructor(t,e,i,n){super(t.flow,i,n),this.section=t,this.value=e,this.el=i}}class T extends N{constructor(t,e,i,n,s){var r,o;let l=((null==(o=null==(r=t.flow.digits)?void 0:r[n])?void 0:o.max)??9)+1,h=Array.from({length:l}).map((t,e)=>{let n=a("span",{className:"digit__num"},[document.createTextNode(String(e))]);return e!==i&&n.setAttribute("inert",""),n.style.setProperty("--n",String(e)),n}),p=a("span",{part:`digit ${e}-digit`,className:"digit"},h);p.style.setProperty("--current",String(i)),p.style.setProperty("--length",String(l)),super(t,i,p,s),this.pos=n,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=h,this.length=l}willUpdate(t){let e=this.el.getBoundingClientRect();this._prevValue=this.value;let i=e[this.section.justify]-t[this.section.justify],n=e.width/2;this._prevCenter="left"===this.section.justify?i+n:i-n}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((e,i)=>i===t?e.removeAttribute("inert"):e.setAttribute("inert","")),this.value=t}didUpdate(t){let e=this.el.getBoundingClientRect(),i=e[this.section.justify]-t[this.section.justify],n=e.width/2,s="left"===this.section.justify?i+n:i-n,r=this._prevCenter-s;r&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});let a=this.getDelta();a&&(this.el.classList.add("is-spinning"),this.el.animate({[g]:[-a,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(let e of this.flow.plugins){let i=null==(t=e.getDelta)?void 0:t.call(e,this.value,this._prevValue,this);if(null!=i)return i}let e=this.value-this._prevValue,i=this.flow.computedTrend||Math.sign(e);return i<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:i>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:e}}class L extends N{constructor(t,e,i,n){let s=a("span",{className:"symbol__value",textContent:i});super(t,i,a("span",{part:`symbol ${e}`,className:"symbol"},[s]),n),this.type=e,this._children=new Map,this._onChildRemove=t=>()=>{this._children.delete(t)},this._children.set(i,new M(this.flow,s,{onRemove:this._onChildRemove(i)}))}willUpdate(t){if("decimal"===this.type)return;let e=this.el.getBoundingClientRect();this._prevOffset=e[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){if(this._children.get(this.value).present=!1,this._children.has(t))this._children.get(t).present=!0;else{let e=a("span",{className:"symbol__value",textContent:t});this.el.appendChild(e),this._children.set(t,new M(this.flow,e,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if("decimal"===this.type)return;let e=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],i=this._prevOffset-e;i&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var I=i(5918),V=i(99378),F=i(80173);let O=parseInt(null===(s=r.version.match(/^(\d+)\./))||void 0===s?void 0:s[1])>=19;class B extends A{attributeChangedCallback(t,e,i){this[t]=JSON.parse(i)}}B.observedAttributes=O?[]:["data","digits"],((t,e)=>{customElements.get(t)===e||customElements.define(t,e)})("number-flow-react",B);let W={},D=O?t=>t:JSON.stringify;function X(t){let{transformTiming:e,spinTiming:i,opacityTiming:n,animated:s,respectMotionPreference:r,trend:a,plugins:o}=t;return[{transformTiming:e,spinTiming:i,opacityTiming:n,animated:s,respectMotionPreference:r,trend:a,plugins:o},(0,F._)(t,["transformTiming","spinTiming","opacityTiming","animated","respectMotionPreference","trend","plugins"])]}class z extends r.Component{updateProperties(t){if(!this.el)return;this.el.manual=!this.props.isolate;let[e]=X(this.props);Object.entries(e).forEach(t=>{let[e,i]=t;this.el[e]=null!=i?i:B.defaultProps[e]}),(null==t?void 0:t.onAnimationsStart)&&this.el.removeEventListener("animationsstart",t.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),(null==t?void 0:t.onAnimationsFinish)&&this.el.removeEventListener("animationsfinish",t.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),O&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(t){if(this.updateProperties(t),t.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>{var t;return null===(t=this.props.group)||void 0===t?void 0:t.didUpdate()};if(!this.props.isolate){var e;return null===(e=this.el)||void 0===e||e.willUpdate(),()=>{var t;return null===(t=this.el)||void 0===t?void 0:t.didUpdate()}}}return null}componentDidUpdate(t,e,i){null==i||i()}handleRef(t){this.props.innerRef&&(this.props.innerRef.current=t),this.el=t}render(){let t=X(this.props),[e,{innerRef:i,className:n,data:s,willChange:a,isolate:o,group:l,digits:h,onAnimationsStart:p,onAnimationsFinish:d}]=t,u=(0,F._)(t[1],["innerRef","className","data","willChange","isolate","group","digits","onAnimationsStart","onAnimationsFinish"]);return r.createElement("number-flow-react",(0,V._)((0,I._)({ref:this.handleRef,"data-will-change":a?"":void 0,class:n,"aria-label":s.valueAsString},u),{role:"img",dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:D(h),data:D(s)}))}constructor(t){super(t),this.handleRef=this.handleRef.bind(this)}}let H=r.forwardRef(function(t,e){var{value:i,locales:n,format:s,prefix:a,suffix:o}=t,l=(0,F._)(t,["value","locales","format","prefix","suffix"]);r.useImperativeHandle(e,()=>h.current,[]);let h=r.useRef(),p=r.useContext(J);null==p||p.useRegister(h);let d=r.useMemo(()=>n?JSON.stringify(n):"",[n]),u=r.useMemo(()=>s?JSON.stringify(s):"",[s]),c=r.useMemo(()=>{var t,e;return function(t,e,i,n){let s=e.formatToParts(t);i&&s.unshift({type:"prefix",value:i}),n&&s.push({type:"suffix",value:n});let r=[],a=[],o=[],l=[],h={},p=t=>`${t}:${h[t]=(h[t]??-1)+1}`,d="",u=!1,c=!1;for(let t of s){d+=t.value;let e="minusSign"===t.type||"plusSign"===t.type?"sign":t.type;"integer"===e?(u=!0,a.push(...t.value.split("").map(t=>({type:e,value:parseInt(t)})))):"group"===e?a.push({type:e,value:t.value}):"decimal"===e?(c=!0,o.push({type:e,value:t.value,key:p(e)})):"fraction"===e?o.push(...t.value.split("").map(t=>({type:e,value:parseInt(t),key:p(e),pos:-1-h[e]}))):(u||c?l:r).push({type:e,value:t.value,key:p(e)})}let f=[];for(let t=a.length-1;t>=0;t--){let e=a[t];f.unshift("integer"===e.type?{...e,key:p(e.type),pos:h[e.type]}:{...e,key:p(e.type)})}return{pre:r,integer:f,fraction:o,post:l,valueAsString:d,value:"string"==typeof t?parseFloat(t):t}}(i,null!==(e=W[t="".concat(d,":").concat(u)])&&void 0!==e?e:W[t]=new Intl.NumberFormat(n,s),a,o)},[i,d,u,a,o]);return r.createElement(z,(0,V._)((0,I._)({},l),{group:p,data:c,innerRef:h}))}),J=r.createContext(void 0)},12606:(t,e,i)=>{i.d(e,{s:()=>p});var n=i(73608),s=i(40425),r=i(39811);function a(t,e){[...e].reverse().forEach(i=>{let n=t.getVariant(i);n&&(0,s.U)(t,n),t.variantChildren&&t.variantChildren.forEach(t=>{a(t,e)})})}function o(){let t=!1,e=new Set,i={subscribe:t=>(e.add(t),()=>void e.delete(t)),start(i,s){(0,n.V)(t,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let a=[];return e.forEach(t=>{a.push((0,r._)(t,i,{transitionOverride:s}))}),Promise.all(a)},set:i=>((0,n.V)(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),e.forEach(t=>{Array.isArray(i)?a(t,i):"string"==typeof i?a(t,[i]):(0,s.U)(t,i)})),stop(){e.forEach(t=>{!function(t){t.values.forEach(t=>t.stop())}(t)})},mount:()=>(t=!0,()=>{t=!1,i.stop()})};return i}var l=i(99234),h=i(35403);let p=function(){let t=(0,l.M)(o);return(0,h.E)(t.mount,[]),t}},25683:(t,e,i)=>{i.d(e,{N:()=>v});var n=i(95155),s=i(12115),r=i(64710),a=i(99234),o=i(39656),l=i(27249);class h extends s.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p(t){let{children:e,isPresent:i}=t,r=(0,s.useId)(),a=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:p}=(0,s.useContext)(l.Q);return(0,s.useInsertionEffect)(()=>{let{width:t,height:e,top:n,left:s}=o.current;if(i||!a.current||!t||!e)return;a.current.dataset.motionPopId=r;let l=document.createElement("style");return p&&(l.nonce=p),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[i]),(0,n.jsx)(h,{isPresent:i,childRef:a,sizeRef:o,children:s.cloneElement(e,{ref:a})})}let d=t=>{let{children:e,initial:i,isPresent:r,onExitComplete:l,custom:h,presenceAffectsLayout:d,mode:c}=t,f=(0,a.M)(u),m=(0,s.useId)(),g=(0,s.useCallback)(t=>{for(let e of(f.set(t,!0),f.values()))if(!e)return;l&&l()},[f,l]),v=(0,s.useMemo)(()=>({id:m,initial:i,isPresent:r,custom:h,onExitComplete:g,register:t=>(f.set(t,!1),()=>f.delete(t))}),d?[Math.random(),g]:[r,g]);return(0,s.useMemo)(()=>{f.forEach((t,e)=>f.set(e,!1))},[r]),s.useEffect(()=>{r||f.size||!l||l()},[r]),"popLayout"===c&&(e=(0,n.jsx)(p,{isPresent:r,children:e})),(0,n.jsx)(o.t.Provider,{value:v,children:e})};function u(){return new Map}var c=i(85087);let f=t=>t.key||"";function m(t){let e=[];return s.Children.forEach(t,t=>{(0,s.isValidElement)(t)&&e.push(t)}),e}var g=i(35403);let v=t=>{let{children:e,custom:i,initial:o=!0,onExitComplete:l,presenceAffectsLayout:h=!0,mode:p="sync",propagate:u=!1}=t,[v,y]=(0,c.xQ)(u),_=(0,s.useMemo)(()=>m(e),[e]),w=u&&!v?[]:_.map(f),b=(0,s.useRef)(!0),C=(0,s.useRef)(_),E=(0,a.M)(()=>new Map),[S,x]=(0,s.useState)(_),[R,$]=(0,s.useState)(_);(0,g.E)(()=>{b.current=!1,C.current=_;for(let t=0;t<R.length;t++){let e=f(R[t]);w.includes(e)?E.delete(e):!0!==E.get(e)&&E.set(e,!1)}},[R,w.length,w.join("-")]);let A=[];if(_!==S){let t=[..._];for(let e=0;e<R.length;e++){let i=R[e],n=f(i);w.includes(n)||(t.splice(e,0,i),A.push(i))}"wait"===p&&A.length&&(t=A),$(m(t)),x(_);return}let{forceRender:k}=(0,s.useContext)(r.L);return(0,n.jsx)(n.Fragment,{children:R.map(t=>{let e=f(t),s=(!u||!!v)&&(_===R||w.includes(e));return(0,n.jsx)(d,{isPresent:s,initial:(!b.current||!!o)&&void 0,custom:s?void 0:i,presenceAffectsLayout:h,mode:p,onExitComplete:s?void 0:()=>{if(!E.has(e))return;E.set(e,!0);let t=!0;E.forEach(e=>{e||(t=!1)}),t&&(null==k||k(),$(C.current),u&&(null==y||y()),l&&l())},children:t},e)})})}},8586:(t,e,i)=>{i.d(e,{W:()=>a});var n=i(12115),s=i(30125);let r={some:0,all:1};function a(t,{root:e,margin:i,amount:o,once:l=!1}={}){let[h,p]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!t.current||l&&h)return;let n={root:e&&e.current||void 0,margin:i,amount:o};return function(t,e,{root:i,margin:n,amount:a="some"}={}){let o=(0,s.KJ)(t),l=new WeakMap,h=new IntersectionObserver(t=>{t.forEach(t=>{let i=l.get(t.target);if(!!i!==t.isIntersecting){if(t.isIntersecting){let i=e(t);"function"==typeof i?l.set(t.target,i):h.unobserve(t.target)}else"function"==typeof i&&(i(t),l.delete(t.target))}})},{root:i,rootMargin:n,threshold:"number"==typeof a?a:r[a]});return o.forEach(t=>h.observe(t)),()=>h.disconnect()}(t.current,()=>(p(!0),l?void 0:()=>p(!1)),n)},[e,t,i,l,o]),h}}}]);